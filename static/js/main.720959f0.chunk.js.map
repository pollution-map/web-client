{"version":3,"sources":["api/cities/fallback-cities-borders/getFallbackBorders.ts","api/cities/NominatimApi.ts","utils/cookie.ts","api/AxiosClient.ts","api/service/Auth/AuthService.ts","api/service/Maps/MapService.ts","store/api/ApiStore.ts","store/data/FilteredMeasurementsStore.ts","data/mock-sensor-positions/getMockSensors.ts","data/testdata.ts","store/data/MeasurementsStore.ts","utils/random.ts","store/ui/CitiesStore.ts","models/geo-point.ts","utils/colorScheme.ts","utils/colorToArray.ts","store/ui/deck/LayersStore.ts","store/ui/deck/MapStore.ts","store/ui/deck/PickInfoStore.ts","models/isoline.ts","utils/hashCode.ts","utils/isolines.ts","store/ui/IsolinesStore.ts","models/mode.ts","utils/isolinesZ.ts","store/ui/ModesStore.ts","store/ui/RangesStore.ts","store/ui/DatasetsStore.ts","store/ui/UserStore.ts","store/RootStore.ts","store/RootStoreContext.tsx","fonts/montserrat/montserrat-v15-latin-regular.woff","fonts/montserrat/montserrat-v15-latin-regular.woff2","fonts/roboto/roboto-v27-latin-regular.woff","fonts/montserrat/montserrat.js","fonts/roboto/roboto-v27-latin-regular.woff2","fonts/globalFonts.js","fonts/roboto/roboto.js","components/map-redactor/DataContainer/DataGridComponent.jsx","components/map-redactor/DataContainer/DataContainer.jsx","components/map-redactor/DataContainer/DragAndDropFile.jsx","components/map-redactor/ElementsContainer/ElementsContainer.jsx","icons/SvgBase.jsx","icons/Noise.jsx","icons/Polution.jsx","components/modes/ModeIcon.jsx","components/popups/PropertiesPopup.tsx","components/preloader/Preloader.jsx","components/map-redactor/MapContainer/TestMap.jsx","components/map-redactor/MapContainer/MapContainer.jsx","components/map-redactor/Menu.jsx","components/map-redactor/MapRedactorControl.jsx","pages/MapRedactorPage.jsx","components/Control.tsx","components/hooks/useValidation.js","components/hooks/useInput.js","components/auth/LoginNavigation.jsx","components/auth/SingIn.jsx","pages/LoginPage.jsx","components/transitions/useFlyTo.jsx","components/city-selection/CitySelection.jsx","components/ButtonGroups.jsx","icons/Logo.jsx","components/Logo.jsx","components/map-modes/Button3D.jsx","components/modes/ModeButton.jsx","components/modes/ModesControl.jsx","components/ranges/ArrowControl.jsx","components/ranges/RangeSlider.jsx","components/ranges/RangesControl.jsx","components/transitions/useCameraRotation.jsx","components/PolutionMap.jsx","pages/MapPage.jsx","components/map-viewing/MapViewingControl.jsx","pages/MapViewingPage.jsx","components/personal-account/UserInfoComponent.jsx","components/personal-account/AddCard.jsx","components/personal-account/UserMapsComponent.jsx","components/personal-account/PersonalAccountControl.jsx","pages/PersonalAccountPage.jsx","components/auth/RegistrationCompleted.jsx","pages/RegistrationCompletedPage.jsx","components/auth/SingUp.jsx","pages/SingUpPage.jsx","router/index.jsx","App.jsx","reportWebVitals.js","index.jsx"],"names":["getFallbackBorders","cityName","izhevsk","type","moscow","naberezhnyeChelny","spb","NominatimApi","client","this","axios","create","url","a","get","params","q","polygon_geojson","format","catch","err","message","result","fallbackBorders","data","length","geojson","getCookie","name","parts","document","cookie","split","pop","shift","API_URL","process","api","baseURL","headers","interceptors","request","use","config","Authorization","localStorage","getItem","response","error","originalRequest","status","_isRetry","post","accessToken","String","refreshToken","date","Date","setDate","getDate","toUTCString","setItem","console","log","AuthService","password","login","userName","email","fromAllDevices","MapService","offset","id","put","delete","ApiStore","citiesApi","authService","mapService","FilteredMeasurementsStore","measurementsStore","filters","makeObservable","observable","addOrUpdateFilter","action","removeFilterByName","removeFilter","measurements","computed","filter","f","find","filterName","measure","predicate","asFeatureCollection","pointFeatureCollection","featureCollection","features","map","geometry","coordinates","points","pointsBig","MockMeasurementsStore","maxValue","polution","noise","minDate","maxDate","izhevskSensors","moscowSensors","spbSensors","naberehnye","latitude","longitude","props","value","Object","fromEntries","entries","k","v","Math","random","timestamp","start","end","getTime","fromError","errorMessage","fromSuccess","city","CitiesStore","loadingError","cities","isSelected","SelectedCity","updateCity","setSelectedCity","loadCityData","autorun","then","cityData","runInAction","toJS","measurement","borders","booleanPointInPolygon","c","getCityByName","getCityBorders","center","newCityInfo","forEach","scaleWithDomain","interpolator","domain","scaleSequential","magama","interpolateMagma","Transparent","getColorArryFromRGGBA","RGGBAcolorString","parseInt","substr","colorToArray","color","indexOf","match","parsed","toLowerCase","RGBAcolor","LayersStore","isolinesStore","mapStore","pickInfoStore","GeoJsonLayer","visible","isBaseMapInitialized","is3D","isolinesZ","isolines","pickable","extruded","stroked","parameters","depthTest","isZoomedNear","fp64","autoHighlight","highlightColor","dataComparator","newData","oldData","i","hashCode","onHover","info","PickInfo","getFillColor","properties","toString","getLineColor","getLineWidth","getElevation","updateTriggers","transitions","duration","easing","easeSinOut","enter","material","ambient","diffuse","shininess","MapStore","setBaseMapInitialized","toggleIs3D","viewState","zoom","pitch","bearing","updateViewState","changeViewState","reducer","undefined","PickInfoStore","_pickInfo","NoIsolines","str","hash","charCodeAt","makeNestedHolesSeparatePolygons","multiPolygons","p","multiPoly","poly","targetOuterPolygon","polygon","ringIndex","targetHole","booleanWithin","push","scaleValueToRange","lines","range","valueToRangeScale","scaleLinear","extent","feature","IsolinesStore","modesStore","citiesStore","modes","smooth","configure","thresholds","acitveModes","activeModesCount","keys","scales","paramName","isActive","nice","clamp","unknown","mergedData","lat","lon","valueObj","reduce","accumParamValue","paramValue","input","contourFn","geoContour","contours","crv","polygonSmooth","iterations","flat","every","invert","toFixed","JSON","stringify","comboisolines","explode","m","asGeoPointsO","mode","assign","asActiveParams","contour","coord","crd","ModesStore","displayName","modeIndex","findIndex","RangesStore","filteredMeasurementsStore","ranges","values","domainFn","scaleTime","viewFn","toTimeString","toLocaleDateString","Ranges","setRangeValues","r","slice","sort","b","low","hight","lowerBound","upperBound","lowerBoundHours","getHours","upperBoundHours","measureHours","localeCompare","DatasetsStore","mapData","isLoading","makeAutoObservable","bool","setLoading","mapId","setMessage","file","e","UserStore","user","isAuth","limit","maps","setAuth","setUser","register","logout","removeItem","refresh","me","setMap","mapCreate","mapUpdate","splice","mapDelete","getMaps","RootStore","apiStore","datasetsStore","userStore","rangesStore","isolinePickInfoStore","layersStore","RootStoreContext","React","createContext","RootStoreProvider","children","rootStore","Provider","useStore","useContext","createGlobalStyle","MontserratW2","MontserratW","GlobalFonts","RobotoW","RobotoW2","CustomToolbar","GridToolbarContainer","GridToolbarColumnsButton","GridToolbarDensitySelector","IconButton","observer","columns","rows","actions","useState","contextMenu","setContextMenu","handleContextMenu","event","preventDefault","mouseX","clientX","mouseY","clientY","columnsTest","field","width","cellClassName","getActions","GridActionsCellItem","onContextMenu","icon","label","onClick","headerName","editable","renderHeader","fontSize","DataGrid","localeText","ruRU","components","MuiDataGrid","defaultProps","experimentalFeatures","newEditingApi","disableColumnMenu","rowHeight","Toolbar","open","onClose","anchorReference","anchorPosition","top","left","MenuItem","ListItemIcon","operation","StFileOpenOutlinedIcon","styled","FileOpenOutlinedIcon","StInput","StWrapper","div","addFile","drag","setDrag","dragStartHandler","onDropHandler","files","dataTransfer","target","FormData","append","className","onDragStart","onDragLeave","dragLeaveHandler","onDragOver","onDrop","accept","Tooltip","followCursor","title","placement","htmlFor","onChange","multiple","Button","style","marginTop","variant","component","startIcon","size","viewMode","StText","h1","SvgBase","svg","attrs","version","xmlns","xmlnsXlink","preserveAspectRatio","Noise","viewBox","d","fill","Polution","stroke","ChosenModeIcon","iconStyle","opacity","ModeIcon","StyledPopupContent","StyledModeIcon","PropItem","StyledPropName","span","StyledPropValue","StyledPropRow","Property","text","modeName","StyledPropsContainer","PropertiesPopup","x","y","ActiveModes","StyledWrapper","Preloader","CircularProgress","view","MapView","repeat","nearZMultiplier","farZMultiplier","orthographic","glContext","setGLContext","deckRef","useRef","mapRef","onMapLoad","useCallback","current","getMap","deck","addLayer","MapboxLayer","onViewStateChange","useDebouncedCallback","ref","initialViewState","onWebGLInitialized","height","gl","layers","glOptions","stencil","blendFunc","GL","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","ONE","blendEquation","FUNC_ADD","controller","scrollZoom","speed","inertia","getCursor","isDragging","ContextProvider","MapContext","reuseMaps","asyncRender","onLoad","mapStyle","mapboxApiAccessToken","picked","object","StyledCard","Card","TextBody","Typography","StLink","Link","StArrow","StActiveContainer","StSlider","Slider","StContainer","setSizeMapContainer","sizeContainer","minDistanceSlider","maxMinSlider","margin","to","newValue","activeThumb","Array","isArray","clamped","min","max","getAriaValueText","aria-label","disableSwap","StMenuWrappe","setSizeContainer","useParams","navigate","useNavigate","useEffect","setFile","MapRedactorPage","SControl","position","Control","containerRef","useMapControl","evt","stopPropagation","useValidation","validations","isEmpty","setEmpty","isPEmpty","setPEmpty","minLength","setMinLength","maxLength","setMaxLength","inputValid","setInputValid","isEmail","setEmail","validation","test","toLocaleLowerCase","useInput","initialState","setValue","isDirty","setDirty","valid","enqueueSnackbar","useSnackbar","massageSample","massage","onBlur","StTab","Tab","pageMenu","path","activePage","setActivePage","element","window","location","pathname","Tabs","onSubmit","TextField","required","LoadingButton","loading","disabled","LoginPage","flyToInterpolator","FlyToInterpolator","Alert","elevation","StyledPapper","Paper","CitySelection","setError","flyTo","prevViewState","transitionDuration","transitionInterpolator","useFlyTo","Autocomplete","options","_","selectedCity","when","getOptionLabel","option","renderInput","InputProps","endAdornment","Snackbar","severity","useStyles","makeStyles","theme","paper","display","border","palette","divider","flexWrap","spacing","ButtonGroups","modeSelection","additionalModeSelection","classes","borderWidth","Divider","flexItem","orientation","Logo","fillRule","clipRule","fillOpacity","filterUnits","colorInterpolationFilters","floodOpacity","in","in2","dy","stdDeviation","operator","k2","k3","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","TextItem","StyledLink","Caption","StyledLogoWrapper","href","Button3D","ToggleButtonGroup","ToggleButton","selected","ModeButton","onToggle","borderRadius","StyledToggleButtonGroup","withStyles","grouped","ModesControl","onModeToggle","toggleMode","LightTooltip","tooltip","backgroundColor","common","white","boxShadow","shadows","ChildrenWrapper","StyledButton","StyledArrowBackIosRoundedIcon","ArrowBackIosRoundedIcon","ArrowControl","titlePlacemet","isButtonActive","setButtonActive","Fab","StyledRangesControl","StyledTypography","muiTheme","createMuiTheme","overrides","MuiSlider","rail","cssLabel","RangeSlider","onRangeChange","ThemeProvider","defaultValue","valueLabelFormat","valueLabelDisplay","RangesControl","isVisiable","CSSTransition","classNames","timeout","unmountOnExit","LinearInterpolator","PolutionMap","afterTimeout","rotateCamera","onTransitionEnd","timeoutId","setTimeout","clearTimeout","useCameraRotation","MapPage","MapViewingPage","Transition","forwardRef","Slide","direction","logoutUser","anchorEl","setAnchorEl","openDialog","setOpenDialog","Boolean","handleCloseDialog","allDevicesLogout","currentTarget","aria-controls","aria-haspopup","aria-expanded","Avatar","sx","charAt","PaperProps","overflow","mt","ml","mr","content","bgcolor","transform","zIndex","transformOrigin","horizontal","vertical","anchorOrigin","Dialog","TransitionComponent","aria-labelledby","DialogTitle","DialogActions","autoFocus","StCard","StAddCircleOutlineIcon","AddCircleOutlineIcon","AddCard","addMap","setOpen","handleClose","CardActionArea","DialogContent","fullWidth","StArchitectureIcon","MapOutlinedIcon","StCardActionArea","handleClick","updateMap","idCard","setIdCard","nameCard","setNamwCard","newNameMap","CardContent","gutterBottom","body","StContentContainer","StHeader","header","idMap","setIdMap","UserMapsComponent","navigator","clipboard","writeText","createMaps","keepMounted","aria-describedby","PersonalAccountPage","StButton","StButtonContainer","steps","RegistrationCompleted","Box","Stepper","activeStep","alternativeLabel","Step","StepLabel","rel","textDecoration","RegistrationCompletedPage","checkPassword","registration","SingUpPage","baseRoutes","privateRoutes","concat","reverse","publicRoutes","checkAuth","maxSnack","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.720959f0.chunk.js","sourcesContent":["import { MultiPolygon, Polygon } from 'geojson';\r\nimport izhevsk from './izhevsk.json';\r\nimport moscow from './moscow.json';\r\nimport naberezhnyeChelny from './naberezhnye-chelny.json';\r\nimport spb from './spb.json';\r\n\r\nexport function getFallbackBorders(\r\n  cityName: string\r\n): MultiPolygon | Polygon | undefined {\r\n  switch (cityName) {\r\n    case 'Ижевск':\r\n      return {\r\n        ...izhevsk,\r\n        type: 'Polygon' as const,\r\n      };\r\n    case 'Москва':\r\n      return {\r\n        ...moscow,\r\n        type: 'MultiPolygon' as const,\r\n      };\r\n    case 'Набережные Челны':\r\n      return {\r\n        ...naberezhnyeChelny,\r\n        type: 'Polygon' as const,\r\n      };\r\n    case 'Санкт-Петербург':\r\n      return {\r\n        ...spb,\r\n        type: 'Polygon' as const,\r\n      };\r\n  }\r\n}\r\n","import axios, { AxiosInstance } from 'axios';\r\nimport { MultiPolygon, Polygon } from 'geojson';\r\nimport { getFallbackBorders } from './fallback-cities-borders/getFallbackBorders';\r\nimport { ICitiesApi } from './ICitiesApi';\r\n\r\ninterface INominatimResponce {\r\n  display_name: string;\r\n  geojson?: MultiPolygon | Polygon;\r\n  error?: string;\r\n}\r\n\r\nexport class NominatimApi implements ICitiesApi {\r\n  client: AxiosInstance;\r\n\r\n  constructor() {\r\n    this.client = axios.create({\r\n      url: 'https://nominatim.openstreetmap.org/search/',\r\n    });\r\n  }\r\n  async getCityBorders(\r\n    cityName: string\r\n  ): Promise<MultiPolygon | Polygon | undefined> {\r\n    let errorMsg = '';\r\n    const result = await this.client\r\n      .get<Array<INominatimResponce>>(\r\n        'https://nominatim.openstreetmap.org/search/',\r\n        {\r\n          params: {\r\n            q: cityName,\r\n            polygon_geojson: 1,\r\n            format: 'json',\r\n          },\r\n        }\r\n      )\r\n      .catch((err) => {\r\n        errorMsg = err.message;\r\n      });\r\n    errorMsg = \"true\";\r\n    if (errorMsg) {\r\n      const fallbackBorders = getFallbackBorders(cityName);\r\n      if (fallbackBorders) return fallbackBorders;\r\n      return;\r\n    }\r\n    \r\n    if (!result?.data?.length) return;\r\n    \r\n    return result.data[0].geojson;\r\n  }\r\n}\r\n","export function getCookie(name: string) {\n  var value = '; ' + document.cookie;\n  var parts = value.split('; ' + name + '=');\n  if (parts.length == 2) return parts.pop()?.split(';').shift();\n}","import axios from 'axios';\nimport { getCookie } from 'src/utils/cookie';\nimport { IAuthResponse } from 'src/models/auth-response';\n\nexport const API_URL = process.env.REACT_APP_PMAP_URL;\n\nexport const api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\napi.interceptors.request.use((config) => {\n  config.headers.Authorization = `Bearer ${localStorage.getItem('token')}`;\n  return config;\n});\n\napi.interceptors.response.use(\n  (config) => {\n    return config;\n  },\n  async (error) => {\n    const originalRequest = error.config;\n    if (\n      error.response.status == 401 &&\n      error.config &&\n      !error.config._isRetry\n    ) {\n      originalRequest._isRetry = true;\n      try {\n        const response = await axios.post<IAuthResponse>(\n          `${API_URL}/auth/refresh`,\n          {\n            accessToken: String(localStorage.getItem('token')),\n            refreshToken: String(getCookie('REFRESHTOKEN')),\n          }\n        );\n        var date = new Date();\n        date.setDate(date.getDate() + 30);\n        document.cookie = `REFRESHTOKEN=${\n          response.data.refreshToken\n        };path=/ ; expires=${date.toUTCString()}`;\n        localStorage.setItem('token', response.data.accessToken);\n        return api.request(originalRequest);\n      } catch (e) {\n        console.log('НЕ АВТОРИЗОВАН');\n      }\n    }\n    throw error;\n  }\n);","import axios from 'axios';\nimport { AxiosResponse } from 'axios';\nimport { IAuthResponse } from 'src/models/auth-response';\nimport { IUser } from 'src/models/user';\nimport { api } from '../../AxiosClient';\nimport { IAuthService } from './IAuthService';\n\nexport class AuthService implements IAuthService {\n  async login(\n    password: string,\n    login: string\n  ): Promise<AxiosResponse<IAuthResponse>> {\n    return api.post<IAuthResponse>('auth/login', { password, login });\n  }\n\n  async register(\n    userName: string,\n    password: string,\n    email: string\n  ): Promise<AxiosResponse<IAuthResponse>> {\n    return api.post<IAuthResponse>('/auth/register', {\n      userName,\n      email,\n      password,\n    });\n  }\n\n  async logout(\n    refreshToken: string,\n    fromAllDevices: boolean\n  ): Promise<undefined> {\n    return api.post('/auth/logout', {\n      refreshToken,\n      fromAllDevices,\n    });\n  }\n\n  async refresh(\n    accessToken: string,\n    refreshToken: string\n  ): Promise<AxiosResponse<IAuthResponse>> {\n    return api.post<IAuthResponse>('/auth/refresh', {\n      accessToken,\n      refreshToken,\n    });\n  }\n  async me(\n  ): Promise<AxiosResponse<IUser>> {\n    return api.get<IUser>('/users/me');\n  }\n}\n","import axios from 'axios';\nimport { AxiosResponse } from 'axios';\nimport { IMap } from 'src/models/map';\nimport { IResponse } from 'src/models/response';\nimport { api } from '../../AxiosClient';\nimport { IMapService } from './IMapService';\n\nexport class MapService implements IMapService {\n  async maps(length?: string, offset?: string): Promise<AxiosResponse<[IMap]>> {\n    return api.get<[IMap]>(`/maps?limit=${length}&offset=${offset}`);\n  }\n\n  async mapCreate(name: string): Promise<AxiosResponse<IMap>> {\n    return api.post<IMap>('/maps', {\n      name,\n    });\n  }\n\n  async mapId(id: string): Promise<AxiosResponse<IMap>> {\n    return api.get<IMap>(`/maps/${id}`);\n  }\n\n  async mapUpdate(id: string, name: string): Promise<AxiosResponse<IMap>> {\n    return api.put<IMap>(`/maps/${id}`, {\n      name,\n    });\n  }\n\n  async mapDelete(id: string): Promise<AxiosResponse<IResponse>> {\n    return api.delete<IResponse>(`/maps/${id}`);\n  }\n}\n","import { IMapService } from './../../api/service/Maps/IMapService';\r\nimport { ICitiesApi } from 'src/api/cities/ICitiesApi';\r\nimport { IAuthService } from 'src/api/service/Auth/IAuthService';\r\nimport { NominatimApi } from 'src/api/cities/NominatimApi';\r\nimport { AuthService } from 'src/api/service/Auth/AuthService';\r\nimport { MapService } from 'src/api/service/Maps/MapService';\r\n\r\nexport class ApiStore {\r\n  citiesApi: ICitiesApi;\r\n  authService: IAuthService;\r\n  mapService: IMapService\r\n  constructor() {\r\n    this.citiesApi = new NominatimApi()\r\n    this.authService = new AuthService();\r\n    this.mapService = new MapService();\r\n\r\n  }\r\n}\r\n","import { action, computed, makeObservable, observable } from 'mobx';\r\nimport { IMeasurement } from 'src/models/measurement';\r\nimport { IMeasurementsStore } from './MeasurementsStore';\r\n\r\nexport interface IFilter<T> {\r\n  name: string;\r\n  predicate(measurement: T): boolean;\r\n}\r\n\r\nexport type MeasureFilter = IFilter<IMeasurement>;\r\n\r\nexport interface IFilteredMeasurementsStore extends IMeasurementsStore {\r\n  filters: Array<MeasureFilter>;\r\n\r\n  addOrUpdateFilter(filter: MeasureFilter): void;\r\n\r\n  getFilterByName(name: string): MeasureFilter | undefined;\r\n\r\n  removeFilterByName(filterName: string): void;\r\n  removeFilter(filter: MeasureFilter): void;\r\n}\r\n\r\nexport class FilteredMeasurementsStore implements IFilteredMeasurementsStore {\r\n  filters: Array<MeasureFilter> = [];\r\n\r\n  constructor(private measurementsStore: IMeasurementsStore) {\r\n    makeObservable(this, {\r\n      filters: observable,\r\n      addOrUpdateFilter: action,\r\n      removeFilterByName: action,\r\n      removeFilter: action,\r\n      measurements: computed,\r\n    });\r\n  }\r\n\r\n  addOrUpdateFilter(filter: MeasureFilter) {\r\n    this.filters = [\r\n      // remove filter if exists\r\n      ...this.filters.filter((f) => f.name !== filter.name),\r\n      // add it\r\n      { ...filter },\r\n    ];\r\n  }\r\n\r\n  getFilterByName(name: string) {\r\n    return this.filters.find((f) => f.name === name);\r\n  }\r\n\r\n  removeFilterByName(filterName: string) {\r\n    this.filters = [\r\n      // remove filter if exists\r\n      ...this.filters.filter((f) => f.name !== filterName),\r\n    ];\r\n  }\r\n\r\n  removeFilter(filter: MeasureFilter) {\r\n    this.removeFilterByName(filter.name);\r\n  }\r\n\r\n  get measurements(): Array<IMeasurement> {\r\n    let result = this.measurementsStore.measurements;\r\n    for (const f of this.filters) {\r\n      result = result.filter((measure) => f.predicate(measure));\r\n    }\r\n    return result;\r\n  }\r\n}\r\n","import { Feature, FeatureCollection, Point } from 'geojson';\r\nimport { featureCollection } from '@turf/helpers';\r\nimport izhevskSensors from './izhevsk.json';\r\nimport moscowSensors from './moscow.json';\r\nimport spbSensors from './spb.json';\r\nimport naberehnye from './naberehnye-chelny.json';\r\n\r\nexport const getMockSensors = (): FeatureCollection<Point> => {\r\n  const fc = featureCollection([\r\n    ...asFeatureCollection(izhevskSensors).features,\r\n    ...asFeatureCollection(moscowSensors).features,\r\n    ...asFeatureCollection(spbSensors).features,\r\n    ...asFeatureCollection(naberehnye).features,\r\n  ]);\r\n\r\n  return fc;\r\n};\r\n\r\n// typescript doesn't read the contents of json file\r\n// and doesn't know that the field 'type' has 'Point' in it,\r\n// so we need to help with that\r\nconst asFeatureCollection = (\r\n  pointFeatureCollection: any\r\n): FeatureCollection<Point> => {\r\n  const fc = featureCollection<Point>([\r\n    ...pointFeatureCollection.features.map((f: Feature<Point>) => ({\r\n      ...f,\r\n      geometry: {\r\n        type: 'Point' as const,\r\n        coordinates: f.geometry.coordinates,\r\n      },\r\n      type: 'Feature' as const,\r\n    })),\r\n  ]);\r\n\r\n  return fc;\r\n};\r\n","import { Feature, FeatureCollection, Point } from 'geojson';\r\nimport { IMeasurement } from 'src/models/measurement';\r\nimport izhevskBorders from 'src/data/izhevsk-borders.json';\r\nimport points from 'src/data/testdata.json';\r\nimport pointsBig from 'src/data/testdata-big.json';\r\nimport {\r\n  GeoPoint,\r\n  GeoPointO,\r\n  GeoPointW,\r\n  PointWeight,\r\n  WeightObject,\r\n} from 'src/models/geo-point';\r\nimport { randomDate } from 'src/utils/random';\r\n\r\nconst geoPoints = points.features.map(\r\n  (f) => f.geometry.coordinates\r\n) as Array<GeoPoint>;\r\nconst getGeoPointsW = (maxValue: PointWeight): Array<GeoPointW> =>\r\n  geoPoints.map((p) => [...p, Math.floor(Math.random() * maxValue)]);\r\n\r\nconst geoPointsBig = pointsBig.features.map(\r\n  (f) => f.geometry.coordinates\r\n) as Array<GeoPoint>;\r\nconst geoPointsBigW = (maxValue: PointWeight): Array<GeoPointW> =>\r\n  geoPointsBig.map((p) => [...p, Math.floor(Math.random() * maxValue)]);\r\n\r\nconst getGeoPointsO = (\r\n  maxValue: WeightObject\r\n): Array<GeoPointO<WeightObject>> =>\r\n  geoPoints.map((p) => [\r\n    ...p,\r\n    Object.fromEntries(\r\n      Object.entries(maxValue).map(([k, v]) => [k, Math.random() * v])\r\n    ),\r\n  ]);\r\n\r\nexport const createMockMeasurements = (\r\n  maxValue: WeightObject,\r\n  date: {\r\n    minDate: Date,\r\n    maxDate: Date\r\n  },\r\n  positions: FeatureCollection<Point>,\r\n): Array<IMeasurement> => positions.features.map((f: Feature<Point>) => ({\r\n  latitude: f.geometry.coordinates[0],\r\n  longitude: f.geometry.coordinates[1],\r\n  props: {\r\n    value: Object.fromEntries(\r\n      Object.entries(maxValue).map(([k, v]) => [k, Math.random() * v])\r\n    ) as WeightObject,\r\n    timestamp: randomDate(date.minDate, date.maxDate)\r\n  },\r\n}));\r\n\r\nconst getIzhevskBorders = () =>\r\n  izhevskBorders.map((p) => [...p]) as Array<GeoPoint>;\r\n\r\nexport {\r\n  geoPoints,\r\n  getGeoPointsW,\r\n  geoPointsBigW,\r\n  getGeoPointsO,\r\n  getIzhevskBorders,\r\n};\r\n","import { getMockSensors } from 'src/data/mock-sensor-positions/getMockSensors';\r\nimport { createMockMeasurements } from 'src/data/testdata';\r\nimport { IMeasurement } from 'src/models/measurement';\r\n\r\nexport interface IMeasurementsStore {\r\n  get measurements(): Array<IMeasurement>;\r\n}\r\n\r\nexport class MockMeasurementsStore implements IMeasurementsStore {\r\n  get measurements(): Array<IMeasurement> {\r\n    return createMockMeasurements({\r\n      polution: 123,\r\n      noise: 70,\r\n    }, {\r\n      minDate: new Date(2021, 5, 1),\r\n      maxDate: new Date()\r\n    },\r\n    getMockSensors());\r\n  }\r\n}\r\n","export function randomDate(start: Date, end: Date) {\r\n    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));\r\n}","import booleanPointInPolygon from '@turf/boolean-point-in-polygon';\r\nimport center from '@turf/center';\r\nimport {\r\n  action,\r\n  autorun,\r\n  computed,\r\n  makeObservable,\r\n  observable,\r\n  runInAction,\r\n  toJS,\r\n} from 'mobx';\r\nimport { ICitiesApi } from 'src/api/cities/ICitiesApi';\r\nimport { City } from 'src/models/city';\r\nimport { asGeoPoint } from 'src/models/geo-point';\r\nimport { IFilteredMeasurementsStore } from 'src/store/data/FilteredMeasurementsStore';\r\n\r\ninterface CityData {\r\n  city?: City;\r\n  error?: string;\r\n}\r\nconst fromError = (errorMessage: string): CityData => ({\r\n  error: errorMessage,\r\n});\r\n\r\nconst fromSuccess = (city: City): CityData => ({\r\n  city,\r\n});\r\n\r\nconst fromNotSelected = (): CityData => ({});\r\n\r\nexport class CitiesStore {\r\n  constructor(\r\n    private citiesApi: ICitiesApi,\r\n    private measurementsStore: IFilteredMeasurementsStore\r\n  ) {\r\n    makeObservable(this, {\r\n      cities: observable,\r\n      SelectedCity: computed,\r\n      updateCity: action,\r\n      setSelectedCity: action,\r\n      loadCityData: action,\r\n      loadingError: observable,\r\n    });\r\n\r\n    autorun(() => {\r\n      this.loadCityData(this.SelectedCity?.name as string).then((cityData) => {\r\n        runInAction(() => {\r\n          this.loadingError = cityData.error;\r\n        });\r\n      });\r\n    });\r\n\r\n    autorun(() => {\r\n      const city = toJS(this.SelectedCity);\r\n      this.measurementsStore.addOrUpdateFilter({\r\n        name: 'borders-filter',\r\n        predicate: (measurement) => {\r\n          if (!city?.borders) return false;\r\n          const inPolygon = booleanPointInPolygon(\r\n            asGeoPoint(measurement),\r\n            city.borders\r\n          );\r\n          return inPolygon;\r\n        },\r\n      });\r\n    });\r\n  }\r\n\r\n  loadingError?: string;\r\n\r\n  cities: Array<City> = [\r\n    {\r\n      name: 'Ижевск',\r\n      isSelected: true,\r\n    },\r\n    {\r\n      name: 'Набережные Челны',\r\n      isSelected: false,\r\n    },\r\n    {\r\n      name: 'Москва',\r\n      isSelected: false,\r\n    },\r\n    {\r\n      name: 'Санкт-Петербург',\r\n      isSelected: false,\r\n    },\r\n    {\r\n      name: 'Камчатка',\r\n      isSelected: false,\r\n    },\r\n    {\r\n      name: 'testCity',\r\n      isSelected: false,\r\n    },\r\n  ];\r\n\r\n  get SelectedCity() {\r\n    return this.cities.find((c) => c.isSelected);\r\n  }\r\n\r\n  getCityByName(name: string) {\r\n    if (name) return this.cities.find((c) => c.name === name);\r\n  }\r\n\r\n  updateCity(cityName: string, city: City) {\r\n    const c = this.getCityByName(cityName);\r\n    if (!c) return;\r\n    this.cities = [\r\n      ...this.cities.filter((c) => c.name !== cityName),\r\n      {\r\n        ...c,\r\n        ...city,\r\n      },\r\n    ];\r\n  }\r\n\r\n  async loadCityData(name: string): Promise<CityData> {\r\n    const city = this.getCityByName(name);\r\n    if (!city)\r\n      return fromError('Не удалось загрузить границы выбранного города.');\r\n    if (city.borders) return fromSuccess(city);\r\n\r\n    const borders = await this.citiesApi.getCityBorders(name);\r\n    if (!borders) {\r\n      return fromError('Не удалось загрузить границы выбранного города.');\r\n    }\r\n\r\n    const c = center(borders);\r\n    const newCityInfo = {\r\n      ...city,\r\n      borders,\r\n      latitude: c.geometry.coordinates[1],\r\n      longitude: c.geometry.coordinates[0],\r\n    };\r\n\r\n    this.updateCity(name, newCityInfo);\r\n\r\n    return fromSuccess(newCityInfo);\r\n  }\r\n\r\n  setSelectedCity(name: string) {\r\n    this.cities.forEach((c) => (c.isSelected = false));\r\n    this.getCityByName(name)!.isSelected = true;\r\n  }\r\n}\r\n","import { IMeasurement } from './measurement';\r\nimport explode from '@turf/explode';\r\nimport { MultiPolygon, Polygon } from 'geojson';\r\nexport type Latitude = number;\r\nexport type Longitude = number;\r\n\r\n// geo points are mainly consumed by isolinses creator\r\nexport type GeoPoint = [Latitude, Longitude];\r\n\r\nexport const asGeoPoint = (measure: IMeasurement): GeoPoint => {\r\n  return [measure.latitude, measure.longitude];\r\n};\r\n\r\nexport function asGeoPoints(\r\n  features: MultiPolygon | Polygon | undefined\r\n): Array<GeoPoint> | undefined {\r\n  return features\r\n    ? explode(features).features.map((f) => [\r\n        f.geometry.coordinates[0],\r\n        f.geometry.coordinates[1],\r\n      ])\r\n    : undefined;\r\n}\r\n\r\nexport type PointWeight = number;\r\nexport type GeoPointW = [Latitude, Longitude, PointWeight];\r\n\r\nexport type ParamWeight = number;\r\nexport interface WeightObject {\r\n  [param: string]: ParamWeight;\r\n}\r\nexport interface WeightObjectV extends WeightObject {\r\n  value: ParamWeight;\r\n}\r\nexport type GeoPointO<WeightObject> = [Latitude, Longitude, WeightObject];\r\n\r\nexport const asGeoPointO = (measure: IMeasurement): GeoPointO<WeightObject> => {\r\n  return [measure.latitude, measure.longitude, measure.props.value];\r\n};\r\n\r\nexport function asGeoPointsO(\r\n  measurements: Array<IMeasurement> | undefined\r\n): Array<GeoPointO<WeightObject>> | undefined {\r\n  return measurements?.map((m) => [m.latitude, m.longitude, m.props.value]);\r\n}\r\n","import {\r\n  interpolateBlues,\r\n  interpolateCool,\r\n  interpolateDiscrete,\r\n  interpolateMagma,\r\n  interpolateRgb,\r\n  ScaleSequential,\r\n  scaleSequential,\r\n} from 'd3';\r\n\r\ntype Interpolator = (t: number) => string;\r\ntype Domain = Array<number>;\r\n\r\nconst scaleWithDomain = (interpolator: Interpolator, domain: Domain) =>\r\n  scaleSequential(interpolator).domain(domain);\r\n\r\nconst german = (domain: Domain): ScaleSequential<string, never> =>\r\n  scaleWithDomain(\r\n    interpolateDiscrete([\r\n      '#82a6ad',\r\n      '#a0babf',\r\n      '#b8d6d1',\r\n      '#cee4cc',\r\n      '#e2f2bf',\r\n      '#f3c683',\r\n      '#e87e4d',\r\n      '#cd463e',\r\n      '#a11a4d',\r\n      '#75085c',\r\n      '#430a4a',\r\n    ]),\r\n    domain\r\n  );\r\n\r\nconst cool = (domain: Domain) => scaleWithDomain(interpolateCool, domain);\r\nconst magama = (domain: Domain) => scaleWithDomain(interpolateMagma, domain);\r\nconst blue = (domain: Domain) => scaleWithDomain(interpolateBlues, domain);\r\nconst green = (domain: Domain) =>\r\n  scaleWithDomain(\r\n    interpolateDiscrete([\r\n      '#143e04',\r\n      '#99aa55',\r\n      '#e6b333',\r\n      '#e6b333',\r\n      '#5e0808',\r\n      '#db0b00',\r\n    ]),\r\n    domain\r\n  );\r\nconst logo = (domain: Domain) =>\r\n  scaleWithDomain(\r\n    interpolateRgb('rgba(147, 41, 149, 0.72)', 'rgba(0, 255, 133, 0.72)'),\r\n    domain\r\n  );\r\n\r\nexport type ColorFn = typeof cool;\r\n\r\nexport { german, cool, magama, blue, green, logo };\r\n","type RGBAArray = [R: number, G: number, B: number, A?: number];\r\nconst Transparent = [0, 0, 0, 0] as RGBAArray;\r\n\r\n// convert #RGB and #RGBA to #RRGGBB and #RRGGBBAA\r\nconst toRGGBAstr = (RGBAcolor: string): string =>\r\n  `#${RGBAcolor[1]}${RGBAcolor[1]}${RGBAcolor[2]}${RGBAcolor[2]}${\r\n    RGBAcolor[3]\r\n  }${RGBAcolor[3]}${RGBAcolor.length > 4 ? RGBAcolor[4] + RGBAcolor[4] : ''}`;\r\n\r\nconst getColorArryFromRGGBA = (RGGBAcolorString: string): RGBAArray => [\r\n  parseInt(RGGBAcolorString.substr(1, 2), 16), // R\r\n  parseInt(RGGBAcolorString.substr(3, 2), 16), // G\r\n  parseInt(RGGBAcolorString.substr(5, 2), 16), // B\r\n  RGGBAcolorString.length > 7\r\n    ? parseInt(RGGBAcolorString.substr(7, 2), 16) / 255\r\n    : 255, // [ A ]\r\n];\r\n\r\nexport const colorToArray = (color: string): RGBAArray | null => {\r\n  if (!color) return null;\r\n  if (color.indexOf('rgb') === 0) {\r\n    if (color.indexOf('rgba') === -1) {\r\n      color += ',255'; // convert 'rgb(R,G,B)' to 'rgb(R,G,B)A' which looks awful but will pass the regxep below https://gist.github.com/oriadam/396a4beaaad465ca921618f2f2444d49\r\n      return color.match(/[\\.\\d]+/g)?.map((a) => +a) as RGBAArray | null;\r\n    }\r\n    const parsed = color.match(/[\\.\\d]+/g)?.map((a) => +a);\r\n    if (!parsed) return null;\r\n    \r\n    const res = [...parsed, 255];\r\n    return res as RGBAArray | null;\r\n  }\r\n  if (color.toLowerCase() === 'transparent') return Transparent;\r\n  // if not rgba color string -> convert to it\r\n  if (color.length < 7) return getColorArryFromRGGBA(toRGGBAstr(color));\r\n  return getColorArryFromRGGBA(color);\r\n};\r\n","import { RGBAColor } from '@deck.gl/core';\r\nimport { easeSinOut } from 'd3';\r\nimport { GeoJsonLayer } from 'deck.gl';\r\nimport { IsolinesStore } from 'src/store/ui/IsolinesStore';\r\nimport { magama } from 'src/utils/colorScheme';\r\nimport { colorToArray } from 'src/utils/colorToArray';\r\nimport { MapStore } from './MapStore';\r\nimport { PickInfoStore } from './PickInfoStore';\r\n\r\nconst color = magama([-20, 100]);\r\n\r\nexport class LayersStore {\r\n  constructor(\r\n    private isolinesStore: IsolinesStore,\r\n    private mapStore: MapStore,\r\n    private pickInfoStore: PickInfoStore\r\n  ) {}\r\n\r\n  get layers(): Array<any> {\r\n    return [\r\n      new GeoJsonLayer({\r\n        visible: this.mapStore.isBaseMapInitialized,\r\n        id: 'isolines',\r\n        data: this.mapStore.is3D\r\n          ? this.isolinesStore.isolinesZ\r\n          : this.isolinesStore.isolines,\r\n        pickable: true,\r\n        // filled: true,\r\n        extruded: true,\r\n        stroked: true,\r\n        parameters: {\r\n          // @ts-ignore\r\n          // fix for z-fighting\r\n          // https://deck.gl/docs/developer-guide/tips-and-tricks#z-fighting-and-depth-testing\r\n          // deep test false means no z-fighting but no filled polygons either\r\n          depthTest: this.mapStore.is3D && this.mapStore.isZoomedNear,\r\n          fp64: true,\r\n        },\r\n        fp64: true,\r\n        autoHighlight: true,\r\n        highlightColor: [255, 255, 255, 20],\r\n        dataComparator: (newData: any, oldData: any): boolean => {\r\n          if (newData.features.length !== oldData.features.length) return false;\r\n\r\n          for (let i = 0; i < newData.features.length; i += 1)\r\n            if (newData.features[i].hashCode !== oldData.features[i].hashCode)\r\n              return false;\r\n          return true;\r\n        },\r\n        onHover: (info: any) => {\r\n          this.pickInfoStore.PickInfo = info;\r\n        },\r\n        getFillColor: (f: any) => {\r\n          const value = color(f.properties.value);\r\n          return colorToArray(value.toString()) as RGBAColor;\r\n        },\r\n        getLineColor: (f: any) => {\r\n          const value = color(f.properties.value - 10);\r\n          return colorToArray(value.toString()) as RGBAColor;\r\n        },\r\n        getLineWidth: (f: any) => (f.properties.value % 25 === 0 ? 10 : 2.5),\r\n        getElevation: (f: any) => {\r\n          const { value } = f.properties;\r\n          // to prevent z-fighting when 3d transitions to 2d an so on\r\n          if (!this.mapStore.is3D) return value * 0.01;\r\n          return ((value ** 1.1) ** 1.2) ** 1.3 - 1;\r\n        },\r\n        updateTriggers: {\r\n          getElevation: [this.mapStore.is3D],\r\n        },\r\n        transitions: {\r\n          getElevation: {\r\n            type: 'interpolation',\r\n            duration: 700,\r\n            easing: easeSinOut,\r\n            //@ts-ignore\r\n            enter: (v) => {\r\n              return this.mapStore.is3D ? [0] : v;\r\n            },\r\n          },\r\n        },\r\n        material: {\r\n          ambient: 1,\r\n          diffuse: 0.01,\r\n          shininess: 100,\r\n        },\r\n      }),\r\n    ];\r\n  }\r\n}\r\n","import { ViewStateProps } from '@deck.gl/core/lib/deck';\r\nimport center from 'src/data/izhevsk-center.json';\r\n\r\nexport class MapStore {\r\n  isBaseMapInitialized: boolean = false;\r\n  setBaseMapInitialized = () => (this.isBaseMapInitialized = true);\r\n\r\n  is3D: boolean = false;\r\n  toggleIs3D = () => (this.is3D = !this.is3D);\r\n\r\n  viewState: ViewStateProps = {\r\n    longitude: center[1],\r\n    latitude: center[0],\r\n    zoom: 12,\r\n    pitch: 35,\r\n    bearing: -2,\r\n  };\r\n\r\n  updateViewState = (viewState: ViewStateProps) => {\r\n    this.viewState = {\r\n      ...this.viewState,\r\n      ...viewState,\r\n    };\r\n  };\r\n\r\n  changeViewState = (\r\n    reducer: (prevViewState: ViewStateProps) => ViewStateProps\r\n  ) => {\r\n    this.updateViewState(reducer(this.viewState));\r\n  };\r\n\r\n  get isZoomedNear(): boolean {\r\n    const { zoom } = this.viewState;\r\n    return zoom !== undefined && zoom > 11;\r\n  }\r\n}\r\n","import { Isoline } from 'src/models/isoline';\r\nimport { PickInfo } from 'deck.gl';\r\n\r\ntype IsolinePickInfo = PickInfo<Isoline> | null;\r\n\r\nexport class PickInfoStore {\r\n  _pickInfo: IsolinePickInfo = null;\r\n\r\n  get PickInfo(): IsolinePickInfo {\r\n    return this._pickInfo;\r\n  }\r\n\r\n  set PickInfo(info: IsolinePickInfo) {\r\n    this._pickInfo = info;\r\n  }\r\n}\r\n","import { HashCode } from 'src/utils/hashCode';\r\nimport { Feature, FeatureCollection, MultiPolygon } from 'geojson';\r\nimport { WeightObjectV } from './geo-point';\r\n\r\nexport interface Isoline extends Feature<MultiPolygon, WeightObjectV> {\r\n    hashCode: HashCode;\r\n}\r\nexport interface Isolines extends FeatureCollection<MultiPolygon, WeightObjectV> {\r\n    features: Array<Isoline>;\r\n}\r\n\r\nexport const NoIsolines: Isolines = {\r\n    type: \"FeatureCollection\" as const,\r\n    features: []\r\n}\r\n","export type HashCode = number;\r\n\r\nexport const hashCode = (str: string): HashCode => {\r\n  let hash = 0;\r\n  for (let i = 0; i < str.length; i++) {\r\n    let character = str.charCodeAt(i);\r\n    hash = (hash << 5) - hash + character;\r\n    hash = hash & hash; // Convert to 32bit integer\r\n  }\r\n  return hash;\r\n};\r\n\r\n// https://stackoverflow.com/a/8076436\r\n","import booleanWithin from '@turf/boolean-within';\r\nimport { polygon } from '@turf/helpers';\r\nimport polygonSmooth from '@turf/polygon-smooth';\r\nimport { extent, scaleLinear } from 'd3';\r\nimport { ContourFN, geoContour, MultiPolygonW } from 'd3-geo-voronoi';\r\nimport { FeatureCollection, MultiPolygon, Position } from 'geojson';\r\nimport {\r\n  GeoPoint,\r\n  GeoPointO,\r\n  GeoPointW,\r\n  PointWeight,\r\n  WeightObject,\r\n} from 'src/models/geo-point';\r\nimport { Isolines, NoIsolines } from 'src/models/isoline';\r\nimport { hashCode } from './hashCode';\r\n\r\nexport const isolines = (\r\n  borders: Array<GeoPoint>,\r\n  data: Array<GeoPointW>,\r\n  smooth: number = 3,\r\n  configure: (contour: ContourFN) => ContourFN = (c) => c.thresholds(11)\r\n): FeatureCollection<MultiPolygon, { value: PointWeight }> => {\r\n  const input = [...borders, ...data];\r\n  const c = configure(geoContour());\r\n  const contours = c(input);\r\n  const smoothedContours = contours.map((crv: MultiPolygon) =>\r\n    polygonSmooth(crv, { iterations: smooth })\r\n  );\r\n\r\n  const result = {\r\n    type: 'FeatureCollection' as const,\r\n    features: smoothedContours\r\n      // filter out corrupted polygons after smoothing\r\n      .filter((f) =>\r\n        f.features[0].geometry.coordinates\r\n          .flat(2)\r\n          .every((crv: Position) => typeof crv !== 'undefined')\r\n      )\r\n      .map((f, i) => ({\r\n        ...f.features[0],\r\n        properties: {\r\n          // save value data when smoothing\r\n          value: contours[i].value,\r\n        },\r\n      })),\r\n  };\r\n\r\n  return result;\r\n};\r\n\r\nexport interface IActiveParams {\r\n  [name: string]: boolean;\r\n}\r\n\r\nexport const comboisolines = (\r\n  borders: Array<GeoPoint> | undefined,\r\n  data: Array<GeoPointO<WeightObject>> | undefined,\r\n  modes: IActiveParams,\r\n  smooth: number = 4,\r\n  configure: (contour: ContourFN) => ContourFN = (c) => c.thresholds(30)\r\n): Isolines => {\r\n  if (!borders || !data) return NoIsolines;\r\n  const acitveModes = Object.fromEntries(\r\n    Object.entries(modes).filter(([modeName, isActive]) => isActive)\r\n  );\r\n  const activeModesCount = Object.keys(acitveModes).length;\r\n  if (!activeModesCount) return NoIsolines;\r\n\r\n  const scales = Object.fromEntries(\r\n    Object.entries(modes).map(([paramName, isActive]) => [\r\n      paramName,\r\n      isActive\r\n        ? // create scale of range [0, 100] for each active param\r\n          // example of scale: dataItem.values.polution was [-434, 1000] -> became [0, 100]\r\n          scaleLinear()\r\n            .domain(\r\n              extent(\r\n                data.map(([lat, lon, valueObj]) => valueObj[paramName])\r\n              ) as [minValOfParam: number, maxValOfParam: number]\r\n            )\r\n            .range([0, 100])\r\n            .nice()\r\n            .clamp(true)\r\n        : scaleLinear().range([0, 0]).clamp(true).unknown(0),\r\n    ])\r\n  );\r\n\r\n  // data with (all params of valueObj) merged to a single value\r\n  const mergedData = data.map(([lat, lon, valueObj]) => [\r\n    lat,\r\n    lon,\r\n    // value = sum all values of params and divide by count of params\r\n    // (it merges correctly because all params have been translated to [0, 100] domain)\r\n    Object.entries(valueObj)\r\n      .filter(([paramName]) => {\r\n        return paramName in acitveModes;\r\n      })\r\n      .reduce(\r\n        ([accumName, accumParamValue], [paramName, paramValue]) => {\r\n          return ['', accumParamValue + scales[paramName](paramValue)];\r\n        },\r\n        ['', 0]\r\n      )[1] / activeModesCount,\r\n  ]) as Array<GeoPointW>;\r\n\r\n  const input = [...borders, ...mergedData];\r\n  const contourFn = configure(geoContour());\r\n  const contours = makeNestedHolesSeparatePolygons(contourFn(input));\r\n  const smoothedContours = contours.map((crv: MultiPolygonW) =>\r\n    polygonSmooth(crv, { iterations: smooth })\r\n  );\r\n\r\n  const features = smoothedContours\r\n    // filter out corrupted polygons after smoothing\r\n    .filter((f) =>\r\n      f.features[0].geometry.coordinates\r\n        .flat(2)\r\n        .every((crv: Position) => typeof crv !== 'undefined')\r\n    )\r\n    .map((f, i) => {\r\n      return {\r\n        ...f.features[0],\r\n        properties: {\r\n          ...Object.fromEntries(\r\n            // save value data when smoothing\r\n            // & add data for all active params\r\n            Object.entries(scales)\r\n              // result geoJson contains active modes ...\r\n              .filter(([paramName]) => paramName in acitveModes)\r\n              .map(([param, paramScale]) => [\r\n                param,\r\n                paramScale.invert(contours[i].value).toFixed(1),\r\n              ])\r\n          ),\r\n          // ... and value\r\n          value: contours[i].value,\r\n        },\r\n        hashCode: hashCode(JSON.stringify(f)),\r\n      };\r\n    });\r\n\r\n  const result = {\r\n    type: 'FeatureCollection' as const,\r\n    features,\r\n  };\r\n\r\n  return scaleValueToRange(result, [0, 100]);\r\n};\r\n\r\n/*\r\n  ┌─────────────────┐   ┌─────────────────┐\r\n  │xxxxxPolygonxxxxx├──►│xxxxxxPolygon1xxx│\r\n  │x┌─────────────┐x│   │x┌─────────────┐x│\r\n  │x│     Hole    │x│   │x│     Hole    │x│\r\n  │x│  ┌───────┐  │x│   │x│  ┌───────┐  │x│\r\n  │x│  │Nestedx├──┼─┼───┼─┼─►│Polygon│  │x│\r\n  │x│  │holexxx│  │x│   │x│  │xxx2xxx│  │x│\r\n  │x│  └───────┘  │x│   │x│  └───────┘  │x│\r\n  │x│             │x│   │x│             │x│\r\n  │x└─────────────┘x│   │x└─────────────┘x│\r\n  │xxxxxxxxxxxxxxxxx│   │xxxxxxxxxxxxxxxxx│\r\n  └─────────────────┘   └─────────────────┘\r\n*/\r\n\r\nconst makeNestedHolesSeparatePolygons = (\r\n  multiPolygons: Array<MultiPolygonW>\r\n): Array<MultiPolygonW> => {\r\n  const result: Array<MultiPolygonW> = [];\r\n  for (const multiPoly of multiPolygons.filter(\r\n    // filter out empty polygons\r\n    (p) => p.coordinates[0].length\r\n  )) {\r\n    for (const poly of multiPoly.coordinates) {\r\n      let targetOuterPolygon = polygon([poly[0]]);\r\n      \r\n      // check all rings of a polygon\r\n      for (let ringIndex = 1; ringIndex < poly.length; ringIndex += 1) {\r\n        const targetHole = polygon([poly[ringIndex]]); // make a polygon out of a ring \r\n        const isAHole = booleanWithin(targetHole, targetOuterPolygon);\r\n\r\n        // if target hole is actualy a hole then add this to target polygon to 'apply' the hole to polygon\r\n        if (isAHole) {\r\n          targetOuterPolygon.geometry.coordinates = [\r\n            ...targetOuterPolygon.geometry.coordinates,\r\n            ...targetHole.geometry.coordinates,\r\n          ];\r\n        }\r\n        // target hole is a lie so it's actualy a separate polygon\r\n        else {\r\n          // save to result polygon created before\r\n          result.push({\r\n            ...multiPoly,\r\n            coordinates: [ targetOuterPolygon.geometry.coordinates ],\r\n          });\r\n\r\n          // hole is not a hole, so it's new target polygon\r\n          targetOuterPolygon = targetHole;\r\n        }\r\n      }\r\n\r\n      // after checking all of the rings save the remaining polygon \r\n      result.push({\r\n        ...multiPoly,\r\n        coordinates: [targetOuterPolygon.geometry.coordinates],\r\n      });\r\n    }\r\n  }\r\n\r\n  return result;\r\n};\r\n\r\nconst scaleValueToRange = (lines: Isolines, range: Array<number>): Isolines => {\r\n  const valueToRangeScale = scaleLinear()\r\n    .domain(\r\n      extent(lines.features.map((f) => f.properties.value)) as [\r\n        minValue: number,\r\n        maxValue: number\r\n      ]\r\n    )\r\n    .range(range);\r\n\r\n  const result = {\r\n    ...lines,\r\n    features: lines.features.map((feature) => ({\r\n      ...feature,\r\n      properties: {\r\n        ...feature.properties,\r\n        value: valueToRangeScale(feature.properties.value),\r\n      },\r\n    })),\r\n  };\r\n\r\n  return result;\r\n};\r\n","import { computed, makeObservable, toJS } from 'mobx';\r\nimport { asGeoPoints, asGeoPointsO } from 'src/models/geo-point';\r\nimport { Isolines } from 'src/models/isoline';\r\nimport { asActiveParams } from 'src/models/mode';\r\nimport { IMeasurementsStore } from 'src/store/data/MeasurementsStore';\r\nimport { ModesStore } from 'src/store/ui/ModesStore';\r\nimport { comboisolines } from 'src/utils/isolines';\r\nimport { isolinesZ } from 'src/utils/isolinesZ';\r\nimport { CitiesStore } from './CitiesStore';\r\n\r\nexport class IsolinesStore {\r\n  constructor(\r\n    private modesStore: ModesStore,\r\n    private measurementsStore: IMeasurementsStore,\r\n    private citiesStore: CitiesStore\r\n  ) {\r\n    makeObservable(this, {\r\n      isolines: computed,\r\n      isolinesZ: computed,\r\n    });\r\n  }\r\n\r\n  get isolines(): Isolines {\r\n    const borders = toJS(this.citiesStore.SelectedCity?.borders);\r\n    const measurements = toJS(this.measurementsStore.measurements);\r\n\r\n    const modes = this.modesStore.modes;\r\n    const result = comboisolines(\r\n      asGeoPoints(borders),\r\n      asGeoPointsO(measurements),\r\n      asActiveParams(modes),\r\n      2,\r\n      (isolines) => isolines.thresholds(40)\r\n    );\r\n\r\n    return result;\r\n  }\r\n\r\n  get isolinesZ(): Isolines {\r\n    const result = isolinesZ(this.isolines);\r\n    return result;\r\n  }\r\n}\r\n","import { IActiveParams } from 'src/utils/isolines';\r\n\r\nexport interface IMode {\r\n  name: string;\r\n  displayName: string;\r\n  isActive: boolean;\r\n}\r\n\r\nexport const asActiveParams = (modes: Array<IMode>): IActiveParams => {\r\n  const result = {};\r\n  for (let i = 0; i < modes.length; i++) {\r\n    const mode = modes[i];\r\n    Object.assign(result, Object.fromEntries([[mode.name, mode.isActive]]));\r\n  }\r\n  return result;\r\n};\r\n","import { Isolines } from 'src/models/isoline';\r\nimport { hashCode } from './hashCode';\r\n\r\n// adds 3rd (z) coordinate to isolines points based on isoline value\r\nexport const isolinesZ = (isolines: Isolines): Isolines => ({\r\n  ...isolines,\r\n  features: isolines.features.map((f, i) => ({\r\n    ...f,\r\n    properties: f.properties,\r\n    hashCode: hashCode(JSON.stringify(f)),\r\n    geometry: {\r\n      type: 'MultiPolygon',\r\n      coordinates: f.geometry.coordinates.map((contour) =>\r\n        contour.map((coord) =>\r\n          coord.map((crd) => [\r\n            ...crd,\r\n            ((f.properties.value ** 1.0) ** 1.1) ** 1.2,\r\n          ])\r\n        )\r\n      ),\r\n    },\r\n  })),\r\n});\r\n","import { IMode } from 'src/models/mode';\r\n\r\nexport class ModesStore {\r\n  modes: Array<IMode> = [\r\n    {\r\n      name: 'polution',\r\n      displayName: 'Загрязнение воздуха',\r\n      isActive: false,\r\n    },\r\n    {\r\n      name: 'noise',\r\n      displayName: 'Шум',\r\n      isActive: true,\r\n    },\r\n  ];\r\n\r\n  toggleMode(mode: IMode) {\r\n    const modeIndex = this.modes.findIndex((m) => m.name === mode.name);\r\n    if (modeIndex === -1) return;\r\n    this.modes[modeIndex].isActive = !this.modes[modeIndex].isActive;\r\n  }\r\n\r\n  get ActiveModes(): Array<IMode> {\r\n    return this.modes.filter((m) => m.isActive);\r\n  }\r\n}\r\n","import { scaleTime } from 'd3';\r\nimport { action, autorun, computed, makeObservable, observable } from 'mobx';\r\nimport { IRange, RangeValues } from 'src/models/range';\r\nimport { IFilteredMeasurementsStore } from 'src/store/data/FilteredMeasurementsStore';\r\n\r\nexport class RangesStore {\r\n  constructor(private filteredMeasurementsStore: IFilteredMeasurementsStore) {\r\n    makeObservable(this, {\r\n      ranges: observable,\r\n      Ranges: computed,\r\n      setRangeValues: action,\r\n    });\r\n\r\n    autorun(() => {\r\n      for (const r of this.Ranges) {\r\n        // sort to not depend on order of values in Range array.\r\n        // basicly fix for situation when thumbs are swapped\r\n        const [low, hight] = r.values.slice().sort((a, b) => a - b);\r\n        const lowerBound = r.domainFn(low);\r\n        const upperBound = r.domainFn(hight);\r\n\r\n        // to differenciate time and date filters\r\n        switch (r.name) {\r\n          case 'Date': {\r\n            this.filteredMeasurementsStore.addOrUpdateFilter({\r\n              name: r.name,\r\n              predicate: (measurement) =>\r\n                lowerBound <= measurement.props.timestamp &&\r\n                measurement.props.timestamp <= upperBound,\r\n            });\r\n            break;\r\n          }\r\n          case 'Time': {\r\n            // for now only accounts for hours\r\n            this.filteredMeasurementsStore.addOrUpdateFilter({\r\n              name: r.name,\r\n              predicate: (measurement) => {\r\n                const lowerBoundHours = lowerBound.getHours();\r\n                const upperBoundHours = upperBound.getHours();\r\n\r\n                // take all measurements if bounds are on the edge (00:00 --- 00:00)\r\n                if (\r\n                  lowerBoundHours == upperBoundHours &&\r\n                  lowerBoundHours == 0\r\n                ) {\r\n                  return true;\r\n                }\r\n\r\n                const measureHours = measurement.props.timestamp.getHours();\r\n\r\n                return (\r\n                  measureHours >= lowerBoundHours &&\r\n                  measureHours <= upperBoundHours\r\n                );\r\n              },\r\n            });\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  ranges: Array<IRange<Date>> = [\r\n    {\r\n      name: 'Time',\r\n      values: [0.01, 100 - 0.01],\r\n      domainFn: (v) =>\r\n        scaleTime(\r\n          [0, 100],\r\n          // range of one day (24 hours)\r\n          [new Date(2021, 5, 1, 0), new Date(2021, 5, 2, 0)]\r\n        )(v),\r\n      viewFn: (v) => v.toTimeString().substr(0, 5),\r\n    },\r\n    {\r\n      name: 'Date',\r\n      values: [0, 100],\r\n      domainFn: (v) =>\r\n        scaleTime([0, 100], [new Date(2021, 5, 1), new Date()])(v),\r\n      viewFn: (v) => v.toLocaleDateString('en-GB'),\r\n    },\r\n  ];\r\n\r\n  get Ranges() {\r\n    return this.ranges.slice().sort((a, b) => a.name.localeCompare(b.name));\r\n  }\r\n\r\n  setRangeValues(range: IRange<Date>, values: RangeValues) {\r\n    const r = this.ranges.find((r) => r.name == range.name);\r\n    if (!r) return;\r\n\r\n    r.values = values;\r\n  }\r\n}\r\n","import { makeAutoObservable } from 'mobx';\nimport { IMap } from 'src/models/map';\nimport { IMapService } from '../../api/service/Maps/IMapService';\n\nexport class DatasetsStore {\n  map = {} as IMap;\n  mapData: Array<string> = [];\n  isLoading = false;\n  message = 'null';\n\n  constructor(private mapService: IMapService) {\n    makeAutoObservable(this);\n  }\n\n  setLoading(bool: boolean) {\n    this.isLoading = bool;\n  }\n  setMessage(message: string) {\n    this.message = message;\n  }\n  async getMap(id: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.mapService.mapId(id);\n      this.map = response.data;\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n  //  ----    finish    ----\n  async setFile(file: FormData) {\n    this.setLoading(true);\n    try {\n      this.mapData.push('true'); //test\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n}\n","import { IUser } from 'src/models/user';\nimport axios from 'axios';\nimport { API_URL } from 'src/api/AxiosClient';\nimport { makeAutoObservable } from 'mobx';\nimport { IAuthService } from 'src/api/service/Auth/IAuthService';\nimport { IMapService } from 'src/api/service/Maps/IMapService';\nimport { IMap } from 'src/models/map';\nimport { getCookie } from 'src/utils/cookie';\n\nexport class UserStore {\n  user = {} as IUser;\n  isAuth = false;\n  isLoading = false;\n  message = 'null';\n  limit = '100';\n  offset = '0';\n\n  constructor(\n    private authService: IAuthService,\n    private mapService: IMapService\n  ) {\n    makeAutoObservable(this);\n  }\n\n  setAuth(bool: boolean) {\n    this.isAuth = bool;\n  }\n\n  setUser(user: IUser) {\n    this.user = user;\n  }\n  setMap(maps: [IMap]) {\n    this.user.maps = [...maps];\n  }\n\n  setLoading(bool: boolean) {\n    this.isLoading = bool;\n  }\n  setMessage(message: string) {\n    this.message = message;\n  }\n  // ----    auth    ----\n  async login(login: string, password: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.authService.login(password, login);\n      localStorage.setItem('token', response.data.accessToken);\n      var date = new Date();\n      date.setDate(date.getDate() + 30);\n      document.cookie = `REFRESHTOKEN=${\n        response.data.refreshToken\n      };path=/; expires=${date.toUTCString()}`;\n      this.setAuth(true);\n      this.setMessage('login');\n      this.setUser(response.data.user);\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n\n  async registration(login: string, password: string, email?: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.authService.register(login, password, email);\n      this.setMessage('registration');\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n\n  async logout(fromAllDevices: boolean) {\n    this.setLoading(true);\n    try {\n      await this.authService.logout(\n        localStorage.getItem('token'),\n        fromAllDevices\n      );\n      localStorage.removeItem('token');\n      document.cookie = `REFRESHTOKEN=T; max-age=0`;\n      this.setAuth(false);\n      this.setUser({} as IUser);\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.message = 'null';\n      this.setLoading(false);\n    }\n  }\n\n  async checkAuth() {\n    this.setLoading(true);\n    try {\n      const response = await this.authService.refresh(\n        localStorage.getItem('token'),\n        getCookie('REFRESHTOKEN')\n      );\n      localStorage.setItem('token', response.data.accessToken);\n      var date = new Date();\n      date.setDate(date.getDate() + 30);\n      document.cookie = `REFRESHTOKEN=${\n        response.data.refreshToken\n      };path=/; expires=${date.toUTCString()}`;\n      this.setAuth(true);\n      this.setUser((await this.authService.me()).data);\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n  // ----    maps    ----\n  async getMaps(length: string, offset: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.mapService.maps(length, offset);\n      this.setMap(response.data);\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n  async createMaps(name: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.mapService.mapCreate(name);\n      this.user.maps.push(response.data);\n      this.setMessage('create');\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n  async mapUpdate(id: string, name: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.mapService.mapUpdate(id, name);\n      for (let i = 0; i < this.user.maps.length; i++) {\n        if (this.user.maps[i].id === id) {\n          this.user.maps.splice(i, 1, response.data);\n        }\n      }\n      this.setMessage('update');\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n  async mapDelete(id: string) {\n    this.setLoading(true);\n    try {\n      const response = await this.mapService.mapDelete(id);\n      this.getMaps(this.limit, this.offset);\n      this.setMessage('delete');\n    } catch (e: any) {\n      this.setMessage(e.response?.data?.message);\n    } finally {\n      this.setLoading(false);\n    }\n  }\n}\n","import { makeAutoObservable } from 'mobx';\r\nimport { ApiStore } from './api/ApiStore';\r\nimport {\r\n  FilteredMeasurementsStore,\r\n  IFilteredMeasurementsStore\r\n} from './data/FilteredMeasurementsStore';\r\nimport { MockMeasurementsStore } from './data/MeasurementsStore';\r\nimport { CitiesStore } from './ui/CitiesStore';\r\nimport { LayersStore } from './ui/deck/LayersStore';\r\nimport { MapStore } from './ui/deck/MapStore';\r\nimport { PickInfoStore } from './ui/deck/PickInfoStore';\r\nimport { IsolinesStore } from './ui/IsolinesStore';\r\nimport { ModesStore } from './ui/ModesStore';\r\nimport { RangesStore } from './ui/RangesStore';\r\nimport { DatasetsStore } from './ui/DatasetsStore';\r\nimport { UserStore } from './ui/UserStore';\r\n\r\nexport class RootStore {\r\n  // -- api --\r\n  apiStore: ApiStore;\r\n\r\n  // -- data --\r\n  filteredMeasurementsStore: IFilteredMeasurementsStore;\r\n  datasetsStore: DatasetsStore;\r\n\r\n  // --  user  --\r\n  userStore: UserStore;\r\n\r\n  // --  ui  --\r\n  modesStore: ModesStore;\r\n  rangesStore: RangesStore;\r\n  citiesStore: CitiesStore;\r\n  isolinesStore: IsolinesStore;\r\n\r\n  // -- Deck Gl --\r\n  isolinePickInfoStore: PickInfoStore;\r\n  mapStore: MapStore;\r\n  layersStore: LayersStore;\r\n\r\n  constructor() {\r\n    // -- api --\r\n    this.apiStore = makeAutoObservable(new ApiStore());\r\n\r\n    // -- data --\r\n    this.filteredMeasurementsStore = new FilteredMeasurementsStore(\r\n      makeAutoObservable(new MockMeasurementsStore())\r\n    );\r\n    this.datasetsStore = new DatasetsStore(this.apiStore.mapService);\r\n\r\n    // --  ui elements  --\r\n\r\n    // --  user  --\r\n    this.userStore = new UserStore(\r\n      this.apiStore.authService,\r\n      this.apiStore.mapService\r\n    );\r\n\r\n    // --  ui  --\r\n    this.citiesStore = new CitiesStore(\r\n      this.apiStore.citiesApi,\r\n      this.filteredMeasurementsStore\r\n    );\r\n    this.rangesStore = new RangesStore(this.filteredMeasurementsStore);\r\n    this.modesStore = makeAutoObservable(new ModesStore());\r\n    this.isolinesStore = new IsolinesStore(\r\n      this.modesStore,\r\n      this.filteredMeasurementsStore,\r\n      this.citiesStore\r\n    );\r\n\r\n    // -- Deck Gl --\r\n    this.isolinePickInfoStore = makeAutoObservable(new PickInfoStore());\r\n    this.mapStore = makeAutoObservable(new MapStore());\r\n    this.layersStore = makeAutoObservable(\r\n      new LayersStore(\r\n        this.isolinesStore,\r\n        this.mapStore,\r\n        this.isolinePickInfoStore\r\n      )\r\n    );\r\n  }\r\n}\r\n","import { makeAutoObservable } from \"mobx\";\r\nimport React from \"react\";\r\nimport { RootStore } from \"./RootStore\";\r\n\r\nconst RootStoreContext = React.createContext<RootStore>({} as RootStore);\r\n\r\nexport const RootStoreProvider: React.FC<React.ReactNode> = ({ children }) => {\r\n  const rootStore = makeAutoObservable(new RootStore());\r\n  return (\r\n    <RootStoreContext.Provider value={rootStore}>{children}</RootStoreContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useStore = () => React.useContext(RootStoreContext);","export default __webpack_public_path__ + \"static/media/montserrat-v15-latin-regular.0659a9f4.woff\";","export default __webpack_public_path__ + \"static/media/montserrat-v15-latin-regular.b71748ae.woff2\";","export default __webpack_public_path__ + \"static/media/roboto-v27-latin-regular.9b78ea3b.woff\";","import { createGlobalStyle } from 'styled-components';\r\nimport MontserratW from './montserrat-v15-latin-regular.woff';\r\nimport MontserratW2 from './montserrat-v15-latin-regular.woff2';\r\n\r\nconst Montserrat = createGlobalStyle`\r\n\r\n@font-face {\r\n  font-family: 'Montserrat';\r\n  src: url(${MontserratW2}) format('woff2'),\r\n       url(${MontserratW}) format('woff');\r\n}\r\n`;\r\n\r\nexport default Montserrat;\r\n","export default __webpack_public_path__ + \"static/media/roboto-v27-latin-regular.4673b453.woff2\";","import { createGlobalStyle } from 'styled-components';\r\nimport './montserrat/montserrat';\r\nimport './roboto/roboto';\r\n\r\nconst GlobalFonts = createGlobalStyle`\r\n\r\nbody {\r\n  font-family: 'Roboto', sans-serif;\r\n}\r\n`;\r\n\r\nexport default GlobalFonts;\r\n","import { createGlobalStyle } from 'styled-components';\r\nimport RobotoW from './roboto-v27-latin-regular.woff';\r\nimport RobotoW2 from './roboto-v27-latin-regular.woff2';\r\n\r\nconst Roboto = createGlobalStyle`\r\n\r\n@font-face {\r\n  font-family: 'Roboto';\r\n  src: url(${RobotoW}) format('woff2'),\r\n       url(${RobotoW2}) format('woff');\r\n}\r\n`;\r\n\r\nexport default Roboto;\r\n","import AddCircleOutlineOutlinedIcon from '@mui/icons-material/AddCircleOutlineOutlined';\nimport MouseOutlinedIcon from '@mui/icons-material/MouseOutlined';\nimport IconButton from '@mui/material/IconButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport {\n    DataGrid,\n    GridActionsCellItem,\n    GridToolbarColumnsButton,\n    GridToolbarContainer,\n    GridToolbarDensitySelector,\n    ruRU\n} from '@mui/x-data-grid';\nimport { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\n\n\nfunction CustomToolbar() {\n  return (\n    <GridToolbarContainer>\n      <GridToolbarColumnsButton />\n      <GridToolbarDensitySelector />\n      <IconButton color=\"primary\">\n        <AddCircleOutlineOutlinedIcon />\n      </IconButton>\n    </GridToolbarContainer>\n  );\n}\nconst DataGridComponent = ({ columns, rows, actions }) => {\n  const [contextMenu, setContextMenu] = useState(null);\n\n  const handleContextMenu = (event) => {\n    event.preventDefault();\n    setContextMenu(\n      contextMenu === null\n        ? {\n            mouseX: event.clientX - 2,\n            mouseY: event.clientY - 4,\n          }\n        : null\n    );\n  };\n  const columnsTest = [\n    {\n      field: 'mouse',\n      type: 'actions',\n      width: 10,\n      cellClassName: 'mouse',\n\n      getActions: ({ id }) => [\n        <GridActionsCellItem\n          onContextMenu={handleContextMenu}\n          key={1}\n          icon={<MouseOutlinedIcon color=\"primary\"/>}\n          label=\"Delete\"\n          onClick={handleContextMenu}\n          color=\"inherit\"\n        />,\n      ],\n    },\n    {\n      field: 'longitude',\n      headerName: 'Longitude',\n      type: 'string',\n    },\n    {\n      field: 'latitude',\n      headerName: 'Latitude ',\n      type: 'string',\n    },\n    {\n      field: 'name',\n      headerName: 'name',\n      type: 'string',\n      editable: true,\n\n      // eslint-disable-next-line react/display-name\n      renderHeader: (params) => (\n        <div onContextMenu={handleContextMenu}>\n          {'Birthday '}\n          <MouseOutlinedIcon color=\"primary\" fontSize=\"small\" />\n        </div>\n      ),\n    },\n  ];\n\n  // const [checkboxSelection, setCheckboxSelection] = useState(false);\n\n  return (\n    <>\n      <DataGrid\n        rows={rows}\n        columns={columnsTest}\n        localeText={ruRU.components.MuiDataGrid.defaultProps.localeText}\n        experimentalFeatures={{ newEditingApi: true }}\n        // checkboxSelection\n        // disableSelectionOnClick\n        disableColumnMenu // Меню столбцов\n        rowHeight={35}\n        components={{\n          Toolbar: CustomToolbar,\n        }}\n      />\n      <Menu\n        open={contextMenu !== null}\n        onClose={() => {\n          setContextMenu(null);\n        }}\n        anchorReference=\"anchorPosition\"\n        anchorPosition={\n          contextMenu !== null\n            ? { top: contextMenu.mouseY, left: contextMenu.mouseX }\n            : undefined\n        }\n      >\n        {actions.map((a) => (\n          <MenuItem\n            key={a.operation}\n            onClick={() => {\n              // handleClick(idCard, a.operation);\n            }}\n          >\n            <ListItemIcon>{a.icon}</ListItemIcon>\n            {a.name}\n          </MenuItem>\n        ))}\n      </Menu>\n    </>\n  );\n};\n\nexport default observer(DataGridComponent);\n","import DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport MouseOutlinedIcon from '@mui/icons-material/MouseOutlined';\nimport { GridActionsCellItem } from '@mui/x-data-grid';\nimport { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport DataGridComponent from './DataGridComponent';\nimport DragAndDropFile from './DragAndDropFile';\n\nconst columns = [\n  {\n    field: 'mouse',\n    type: 'actions',\n    width: 10,\n    cellClassName: 'mouse',\n\n    getActions: ({ id }) => [\n      <GridActionsCellItem\n        // onContextMenu={handleContextMenu}\n        key={1}\n        icon={<MouseOutlinedIcon />}\n        label=\"Delete\"\n        // onClick={handleContextMenu}\n        color=\"inherit\"\n      />,\n    ],\n  },\n  {\n    field: 'longitude',\n    headerName: 'Longitude',\n    type: 'string',\n  },\n  {\n    field: 'latitude ',\n    headerName: 'Latitude',\n    type: 'string',\n  },\n  {\n    field: 'name',\n    headerName: 'name',\n    editable: true,\n  },\n];\n\nconst rows = [];\n\nfor (let i = 1; i < 1000; i++) {\n  rows.push({\n    id: i,\n    longitude: '62.28836509824845',\n    latitude: '75.706787109375',\n    name: 'test',\n  });\n}\n\nconst actions = [\n  { icon: <DeleteForeverIcon />, name: 'Delete', operation: 'delete' },\n];\n\nconst StWrapper = styled.div`\n  ${({ size }) => `width: ${size}%`};\n  ${({ viewMode }) => (viewMode ? `display: none ` : `display: block `)};\n  border-left: 1px solid #dadce0;\n`;\nconst DataContainer = ({ size, addFile, mapData }) => {\n  const [testdate, setTestdate] = useState(false);\n  const handleClick = (id, operation) => {\n    if (operation === 'delete') {}\n  };\n\n  return (\n    <StWrapper size={size} viewMode={size === 0}>\n      {mapData.length !== 0 ? (\n        <DataGridComponent columns={columns} rows={rows} actions={actions} />\n      ) : (\n        <DragAndDropFile addFile={addFile} />\n      )}\n    </StWrapper>\n  );\n};\n\nexport default observer(DataContainer);\n","/* eslint-disable jsx-a11y/label-has-associated-control */\nimport { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { DataGrid } from '@mui/x-data-grid';\nimport Tooltip from '@mui/material/Tooltip';\nimport '../../auth/styledLogin.css';\nimport Button from '@mui/material/Button';\nimport FileOpenOutlinedIcon from '@mui/icons-material/FileOpenOutlined';\n\nconst StFileOpenOutlinedIcon = styled(FileOpenOutlinedIcon)`\n  font-size: 80px !important;\n`;\n\nconst StInput = styled.input`\n  display: none;\n`;\n\nconst StWrapper = styled.div`\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n`;\n\nconst DragAndDropFile = ({ addFile }) => {\n  const [drag, setDrag] = useState(false);\n\n  const dragStartHandler = (e) => {\n    e.preventDefault();\n    setDrag(true);\n  };\n  const dragLeaveHandler = (e) => {\n    e.preventDefault();\n    setDrag(false);\n  };\n  //  ----    finish    ----\n  const onDropHandler = (e, type) => {\n    e.preventDefault();\n\n    const files =\n      type !== 'button' ? [...e.dataTransfer.files] : [...e.target.files];\n    const formData = new FormData();\n    formData.append('file', files[0]);\n    addFile(files);\n    setDrag(false);\n  };\n  return (\n    <StWrapper\n      className={drag ? 'styledIconsActive' : null}\n      onDragStart={(e) => dragStartHandler(e)}\n      onDragLeave={(e) => dragLeaveHandler(e)}\n      onDragOver={(e) => dragStartHandler(e)}\n      onDrop={(e) => onDropHandler(e)}\n      accept=\"application/geojson\"\n    >\n      <Tooltip\n        followCursor\n        title={<h3>Перемести файл JSON</h3>}\n        placement=\"bottom\"\n      >\n        <StFileOpenOutlinedIcon />\n      </Tooltip>\n      <label htmlFor=\"contained-button-file\">\n        <StInput\n          onChange={(e) => onDropHandler(e, 'button')}\n          accept=\"application/json\"\n          id=\"contained-button-file\"\n          multiple\n          type=\"file\"\n        />\n\n        <Button\n          style={{ marginTop: '1vh' }}\n          variant=\"contained\"\n          component=\"span\"\n          startIcon={<FileOpenOutlinedIcon />}\n        >\n          Загрузить файл\n        </Button>\n      </label>\n    </StWrapper>\n  );\n};\n\nexport default observer(DragAndDropFile);\n","import { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled from 'styled-components';\n\nconst StWrapper = styled.div`\n  ${({ size }) => `width: ${size}%`};\n  ${({ viewMode }) => (viewMode ? `display: none ` : `display: block `)};\n\n  border-right: 1px solid #dadce0;\n`;\nconst StText = styled.h1`\n  transform: rotate(294deg);\n  margin-top: 45vh;\n  opacity: 0.1;\n  display: flex;\n  justify-content: center;\n`;\n\nconst ElementsContainer = ({ size, name }) => {\n  const [context, setContext] = useState(null);\n\n  return (\n    <StWrapper size={size} viewMode={size === 0}>\n      <StText>development</StText>\n    </StWrapper>\n  );\n};\n\nexport default observer(ElementsContainer);\n","import styled from 'styled-components';\r\n\r\nexport const SvgBase = styled.svg.attrs(({ className }) => ({\r\n  version: '1.1',\r\n  xmlns: 'http://www.w3.org/2000/svg',\r\n  xmlnsXlink: 'http://www.w3.org/1999/xlink',\r\n  className,\r\n  preserveAspectRatio: 'xMaxYMax meet',\r\n}))``;\r\n","import { SvgBase } from './SvgBase';\r\n\r\nexport const Noise = ({ className, color }) => (\r\n  <SvgBase viewBox=\"0 1 17 15\" className={className}>\r\n    <path\r\n      d=\"M1.18182 13.0376V2.41778C1.18182 2.22634 1.28012 2.04831 1.44214 1.94632C1.79213 1.72601 2.25168 1.95041 2.29319 2.36188L2.75573 6.94766C2.78964 7.2839 3.24942 7.35343 3.38124 7.04226L3.40134 6.99483C3.48038 6.80825 3.72127 6.75774 3.8686 6.89685C4.03362 7.05266 4.30556 6.96775 4.35259 6.74572L4.74212 4.9067C4.85911 4.35438 5.64921 4.3594 5.75917 4.91316C5.87064 5.47447 6.67525 5.46889 6.77891 4.90608L6.89616 4.2695C7.01837 3.60598 7.98273 3.64755 8.04739 4.31913L8.20965 6.00441C8.23565 6.27441 8.6144 6.312 8.69296 6.05237C8.76938 5.79983 9.13516 5.82616 9.17463 6.08704L9.2059 6.2937C9.24947 6.58169 9.63989 6.63866 9.76394 6.37512L10.1522 5.55021C10.3579 5.11331 10.9897 5.14511 11.1504 5.60044C11.3274 6.10177 12.046 6.07282 12.182 5.55888L12.2966 5.12633C12.4211 4.6561 13.0885 4.6561 13.213 5.12633C13.3436 5.61963 14.0545 5.58649 14.1387 5.08319L14.721 1.60062C14.7649 1.33825 14.992 1.14601 15.258 1.14601C15.5647 1.14601 15.8109 1.39934 15.8022 1.70599L15.4865 12.7351C15.4812 12.9207 15.372 13.0875 15.2041 13.1668C14.9736 13.2756 14.6981 13.1907 14.5688 12.971L14.001 12.006C13.5582 11.2534 12.5049 11.1631 11.9404 11.8293L11.7903 12.0065C11.7531 12.0504 11.7274 12.1029 11.7155 12.1592C11.6385 12.5224 11.1221 12.5282 11.037 12.1668L11.0048 12.0297C10.9192 11.6661 10.4121 11.6386 10.2878 11.9909C10.1839 12.2852 9.78657 12.3304 9.61919 12.067L9.51713 11.9064C9.30978 11.5801 8.81833 11.6329 8.6851 11.9959L8.58639 12.2648C8.36669 12.8633 7.48667 12.742 7.43695 12.1064C7.3936 11.5522 6.68052 11.3561 6.35987 11.8103L5.95584 12.3825C5.74231 12.6849 5.26639 12.5338 5.26639 12.1636C5.26639 11.7583 4.71621 11.6353 4.54359 12.002L4.23835 12.6505C4.12496 12.8914 3.7726 12.8594 3.70445 12.602C3.64543 12.3791 3.36006 12.3147 3.211 12.4906L2.26418 13.6081C2.22361 13.656 2.17594 13.6974 2.12282 13.7308C1.71398 13.9882 1.18182 13.6943 1.18182 13.2112V13.0376Z\"\r\n      fill={color || 'black'}\r\n    />\r\n  </SvgBase>\r\n);\r\n","import { SvgBase } from './SvgBase';\r\n\r\nexport const Polution = ({ className, color }) => (\r\n  <SvgBase viewBox=\"1 0 15 18\" className={className}>\r\n    <path\r\n      d=\"M14.1175 6.22907C14.1175 5.56552 14.2618 4.86242 14.5516 4.26548C14.7428 3.87173 14.8383 3.43856 14.8383 2.96597C14.8383 2.15957 14.523 1.49625 13.8923 0.975989C13.2617 0.42972 12.4802 0.156586 11.5479 0.156586C10.6155 0.156586 9.83406 0.442726 9.20338 1.01501C8.93165 1.25037 8.57468 1.38347 8.21592 1.36067C8.12156 1.35468 8.02554 1.35168 7.92787 1.35168C6.99557 1.35168 6.21407 1.63782 5.58339 2.2101C4.9527 2.75637 4.63737 3.44571 4.63737 4.27812C4.63737 4.57305 4.46498 4.85093 4.19999 4.9804C3.92786 5.11336 3.67605 5.28486 3.44456 5.49492C2.81387 6.04119 2.49855 6.73053 2.49855 7.56294C2.49855 8.50229 2.40787 9.56326 2.30953 10.4975C2.29844 10.6028 2.29289 10.7107 2.29289 10.8211C2.29289 11.6535 2.60823 12.3558 3.23892 12.9281C3.8696 13.4744 4.65109 13.7475 5.5834 13.7475C6.54313 13.7475 7.32462 13.4614 7.92787 12.8891C8.32707 12.5104 8.82709 12.2266 9.36436 12.1078C9.93285 11.982 10.4204 11.7263 10.827 11.3406C11.038 11.1404 11.2137 10.9257 11.3541 10.6965C11.8466 9.89211 12.4872 9.0633 13.1714 8.41415C13.8021 7.81586 14.1175 7.0875 14.1175 6.22907Z\"\r\n      fill={color || 'black'}\r\n    />\r\n    <path d=\"M0.201996 16.8839L6.81774 16.8839\" stroke={color || 'black'} />\r\n  </SvgBase>\r\n);\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport PropTypes from 'prop-types';\r\nimport { Fragment } from 'react';\r\nimport { Noise } from 'src/icons/Noise';\r\nimport { Polution } from 'src/icons/Polution';\r\nimport styled from 'styled-components';\r\n\r\n// icon chosen by name\r\nconst ChosenModeIcon = ({ name, className, color, opacity }) => {\r\n  const iconStyle = {\r\n    className,\r\n    color,\r\n    opacity,\r\n  };\r\n\r\n  switch (name) {\r\n    case 'noise':\r\n      return <Noise {...iconStyle} />;\r\n    case 'polution':\r\n      return <Polution {...iconStyle} />;\r\n\r\n    default:\r\n      return <Fragment {...iconStyle}>No icon for &apos;{name}&apos;</Fragment>;\r\n  }\r\n};\r\n\r\nChosenModeIcon.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  color: PropTypes.string,\r\n  opacity: PropTypes.number,\r\n  className: PropTypes.string,\r\n};\r\n\r\nChosenModeIcon.defaultProps = {\r\n  className: 'unexpected class name value',\r\n  color: 'black',\r\n  opacity: 1,\r\n};\r\n\r\n// decorates chosen icon with styles\r\nexport const ModeIcon = styled(ChosenModeIcon).attrs(({ color }) => ({\r\n  color: color || 'black',\r\n}))`\r\n  width: 30px;\r\n  height: 30px;\r\n`;\r\n","import { ModeIcon } from 'src/components/modes/ModeIcon';\r\nimport { WeightObjectV } from 'src/models/geo-point';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\nimport { magama } from 'src/utils/colorScheme';\r\nimport styled from 'styled-components';\r\n\r\ninterface PopupContentProps {\r\n  left: number;\r\n  top: number;\r\n  color: string;\r\n}\r\n\r\nconst StyledPopupContent = styled.div.attrs<PopupContentProps>(\r\n  ({ left, top }) => {\r\n    return {\r\n      style: {\r\n        left: `${left}px`,\r\n        top: `${top}px`,\r\n      },\r\n    };\r\n  }\r\n)<PopupContentProps>`\r\n  position: absolute;\r\n  z-index: 0;\r\n  pointer-events: none;\r\n  flex-wrap: wrap;\r\n  padding: 10px;\r\n  text-shadow: 1px 0 1px #181818, 0 1px 1px #181818, -1px 0 1px #181818,\r\n    0 -1px 1px #181818;\r\n`;\r\n\r\nconst StyledModeIcon = styled(ModeIcon)`\r\n  margin-right: 10px;\r\n  width: 40px;\r\n  height: 40px;\r\n  align-self: center;\r\n`;\r\n\r\ninterface PropertyProps {\r\n  text: string;\r\n  value: number;\r\n  modeName: string;\r\n}\r\n\r\nconst color = magama([100, 0]);\r\n\r\nconst PropItem = styled.div`\r\n  margin: 8px;\r\n  padding: 0 5px 0 0;\r\n  color: #ffffff;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst StyledPropName = styled.span`\r\n  flex-basis: 20%;\r\n  padding-bottom: 5px;\r\n  display: block;\r\n  font-size: 22px;\r\n`;\r\n\r\nconst StyledPropValue = styled.span<{ color: string }>`\r\n  font-size: 34px;\r\n  font-weight: 900;\r\n  color: ${(props) => props.color}px;\r\n`;\r\n\r\nconst StyledPropRow = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  flex-basis: 20%;\r\n`;\r\n\r\nconst Property: React.FC<PropertyProps> = ({ text, value, modeName }) => {\r\n  const c = color(value).toString();\r\n  return (\r\n    <PropItem>\r\n      <StyledPropName>{text}</StyledPropName>\r\n      <StyledPropRow>\r\n        <StyledModeIcon name={modeName} color=\"white\" />\r\n        <StyledPropValue color={c}>{value}</StyledPropValue>\r\n      </StyledPropRow>\r\n    </PropItem>\r\n  );\r\n};\r\n\r\ninterface PopupProps {\r\n  x: number;\r\n  y: number;\r\n  properties: WeightObjectV;\r\n}\r\n\r\nconst StyledPropsContainer = styled.div`\r\n  display: flex;\r\n  align-items: space-between;\r\n  justify-content: space-between;\r\n  margin-bottom: 2px;\r\n  padding: 0 8px;\r\n`;\r\n\r\nexport const PropertiesPopup: React.FC<PopupProps> = ({ x, y, properties }) => {\r\n  const { modesStore } = useStore();\r\n\r\n  const c = color(properties.value).toString();\r\n  return (\r\n    <StyledPopupContent left={x} top={y} color={c}>\r\n      <StyledPropsContainer>\r\n        {modesStore.ActiveModes.map((m) => (\r\n          // only display if value exists\r\n          properties[m.name] && <Property \r\n            key={m.name}\r\n            modeName={m.name}\r\n            text={m.displayName}\r\n            value={properties[m.name]}\r\n          />\r\n        ))}\r\n      </StyledPropsContainer>\r\n    </StyledPopupContent>\r\n  );\r\n};\r\n","import CircularProgress from '@material-ui/core/CircularProgress';\nimport styled from 'styled-components';\n\nconst StyledWrapper = styled.div`\n  position: absolute;\n  left: 50%;\n  top: 50%;\n`;\n\nexport const Preloader = () => (\n  <StyledWrapper>\n    <CircularProgress />\n  </StyledWrapper>\n);\n","import { MapboxLayer } from '@deck.gl/mapbox';\nimport GL from '@luma.gl/constants';\nimport DeckGL, { MapView } from 'deck.gl';\nimport { observer } from 'mobx-react-lite';\nimport { useCallback, useRef, useState } from 'react';\nimport { MapContext, StaticMap } from 'react-map-gl';\nimport { PropertiesPopup } from 'src/components/popups/PropertiesPopup';\nimport { Preloader } from 'src/components/preloader/Preloader';\nimport { useStore } from 'src/store/RootStoreContext';\nimport { useDebouncedCallback } from 'use-debounce/lib';\n\n// Set your mapbox access token here\nconst MAPBOX_ACCESS_TOKEN = process.env.REACT_APP_MAPBOX_ACCES_TOKEN;\n\n// TODO: store для текущих диапазонов, цветовых гамм, отображение цветовой палитры\n\nconst view = new MapView({\n  repeat: true,\n  nearZMultiplier: 0.1,\n  farZMultiplier: 1.01,\n  orthographic: false,\n});\n\nexport const TestMap = observer(({ size, left }) => {\n  // DeckGL and mapbox will both draw into this WebGL context\n  // layering stuff\n\n  const [glContext, setGLContext] = useState(null);\n  const deckRef = useRef(null);\n  const mapRef = useRef(null);\n\n  const { layersStore, isolinePickInfoStore, mapStore } = useStore();\n\n  const onMapLoad = useCallback(() => {\n    const map = mapRef.current.getMap();\n    const { deck } = deckRef.current;\n\n    // You must initialize an empty deck.gl layer to prevent flashing\n    map.addLayer(\n      // This id has to match the id of the deck.gl layer\n      new MapboxLayer({ id: 'isolines', deck }),\n      // Optionally define id from Mapbox layer stack under which to add deck layer\n      'land-structure-polygon'\n    );\n    mapStore.setBaseMapInitialized();\n  }, []);\n\n  const onViewStateChange = useDebouncedCallback(({ viewState }) => {\n    mapStore.updateViewState(viewState);\n  }, 100);\n\n  return (\n    <div>\n      {!mapStore.isBaseMapInitialized && <Preloader />}\n\n      <DeckGL\n        onViewStateChange={onViewStateChange}\n        ref={deckRef}\n        view={view}\n        style={{\n          opacity: `${mapStore.isBaseMapInitialized ? '1' : '0'}`,\n          left: `${!left}%`,\n        }}\n        initialViewState={mapStore.viewState}\n        onWebGLInitialized={setGLContext}\n        width={`${size}%`}\n        height=\"100vh\"\n        gl={glContext}\n        layers={layersStore.layers}\n        glOptions={{\n          /* To render vector tile polygons correctly */\n          stencil: true,\n        }}\n        parameters={{\n          blendFunc: [\n            GL.SRC_ALPHA,\n            GL.ONE_MINUS_SRC_ALPHA,\n            GL.ONE,\n            GL.ONE_MINUS_SRC_ALPHA,\n          ],\n          blendEquation: GL.FUNC_ADD,\n        }}\n        controller={{\n          scrollZoom: {\n            speed: 0.01,\n            smooth: true,\n          },\n          inertia: true,\n        }}\n        getCursor={({ isDragging }) => {\n          if (isDragging) isolinePickInfoStore.PickInfo = null;\n        }}\n        // provides context to a static map\n        // this allows to use react-map-gl controls\n        // and aslo out custom controls based on Control.tsx\n        ContextProvider={MapContext.Provider}\n      >\n        {glContext && (\n          <StaticMap\n            reuseMaps\n            asyncRender\n            ref={mapRef}\n            gl={glContext}\n            onLoad={onMapLoad}\n            // mapStyle=\"mapbox://styles/vfqww/ckq55qrrp0eom17n2qkmkcjd2\"\n            mapStyle=\"mapbox://styles/vfqww/ckq8cu7ea0nz417pehvywpm7t\"\n            // mapStyle=\"mapbox://styles/vfqww/ckqjlt39v37lz17qsi1jfcxq4\"\n            mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\n          />\n        )}\n\n        {isolinePickInfoStore.PickInfo?.picked && (\n          <PropertiesPopup\n            x={isolinePickInfoStore.PickInfo.x}\n            y={isolinePickInfoStore.PickInfo.y}\n            properties={isolinePickInfoStore.PickInfo.object.properties}\n          />\n        )}\n      </DeckGL>\n    </div>\n  );\n});\n","import { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport { TestMap } from './TestMap';\n\nconst StWrapper = styled.div`\n  ${({ size }) => `width: ${size}%`};\n`;\nconst StText = styled.h1`\n  transform: rotate(294deg);\n  margin-top: 45vh;\n  opacity: 0.1;\n  display: flex;\n  justify-content: center;\n`;\n\nconst MapContainer = ({ size, left }) => {\n  const [context, setContext] = useState(null);\n\n  return (\n    <StWrapper size={size}>\n      {/* <TestMap size={size} left={left} /> */}\n      <StText>development</StText>\n    </StWrapper>\n  );\n};\n\nexport default observer(MapContainer);\n","import { Typography } from '@material-ui/core';\nimport Card from '@material-ui/core/Paper';\nimport HomeIcon from '@mui/icons-material/Home';\nimport Button from '@mui/material/Button';\nimport Slider from '@mui/material/Slider';\nimport Tooltip from '@mui/material/Tooltip';\nimport { observer } from 'mobx-react-lite';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst StWrapper = styled.div`\n  display: flex;\n  justify-content: center;\n`;\nconst StyledCard = styled(Card)`\n  border: 0 0 0 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  transition: margin-top 0.8, width 0.8s;\n\n  &:hover {\n    margin-top: 0;\n    width: 250px;\n    transition: margin-top 0.5s, width 0.3s;\n  }\n  &:not(:hover) {\n    margin-top: -95px;\n    width: 100px;\n    transition: margin-top 0.4s, width 1s;\n  }\n`;\n\nconst TextBody = styled(Typography)`\n  padding: 2% 6% 1% 6%;\n  display: flex;\n  flex-direction: column;\n`;\nconst StLink = styled(Link)`\n  text-decoration: none;\n  margin-left: 1vh;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n`;\nconst StArrow = styled.div`\n  background-color: #dadce0;\n  border-radius: 5px;\n  width: 40px;\n  height: 5px;\n  margin: 0 auto 5px auto;\n`;\nconst StActiveContainer = styled.div`\n  display: flex;\n  margin-bottom: 10px;\n  flex-direction: column;\n  align-content: center;\n  width: 220px;\n`;\nconst StSlider = styled(Slider)`\n  margin: 10px auto 0 auto;\n`;\nconst StContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n`;\n\nconst Menu = ({\n  size,\n  setSizeMapContainer,\n  sizeContainer,\n  minDistanceSlider,\n  maxMinSlider,\n}) => {\n  function valuetext(value) {\n    return `${value}%`;\n  }\n  const handleChangeSlider = (event, newValue, activeThumb) => {\n    if (!Array.isArray(newValue)) {\n      return;\n    }\n\n    if (newValue[1] - newValue[0] < minDistanceSlider) {\n      if (activeThumb === 0) {\n        const clamped = Math.min(newValue[0], 100 - minDistanceSlider);\n        setSizeMapContainer([clamped, clamped + minDistanceSlider]);\n      } else {\n        const clamped = Math.max(newValue[1], minDistanceSlider);\n        setSizeMapContainer([clamped - minDistanceSlider, clamped]);\n      }\n    } else {\n      setSizeMapContainer(newValue);\n    }\n  };\n  return (\n    <StWrapper size={size}>\n      <StyledCard>\n        <TextBody>\n          <StActiveContainer>\n            <StContainer>\n              <Tooltip\n                followCursor\n                style={{ margin: '0' }}\n                title={<h4>Личный кабинет</h4>}\n                placement=\"bottom\"\n              >\n                <StLink to=\"/person-alaccount\" className=\"styledIcons\">\n                  <Button variant=\"outlined\" startIcon={<HomeIcon />}>\n                    Home\n                  </Button>\n                </StLink>\n              </Tooltip>\n            </StContainer>\n            <StSlider\n              value={sizeContainer}\n              onChange={handleChangeSlider}\n              getAriaValueText={valuetext}\n              aria-label=\"Size\"\n              disableSwap\n            />\n          </StActiveContainer>\n\n          <StArrow />\n        </TextBody>\n      </StyledCard>\n    </StWrapper>\n  );\n};\nexport default observer(Menu);\n","import { autorun } from 'mobx';\nimport { observer } from 'mobx-react-lite';\nimport { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useStore } from 'src/store/RootStoreContext';\nimport styled from 'styled-components';\nimport DataContainer from './DataContainer/DataContainer';\nimport ElementsContainer from './ElementsContainer/ElementsContainer';\nimport MapContainer from './MapContainer/MapContainer';\nimport Menu from './Menu';\n\nconst StWrapper = styled.div`\n  display: flex;\n  height: 100%;\n  margin: 0;\n  padding: 0;\n`;\nconst StMenuWrappe = styled.div`\n  position: absolute;\n  top: 15px;\n  left: 0;\n  right: 0;\n`;\n\nconst MapRedactorControl = () => {\n  const [sizeContainer, setSizeContainer] = useState([20, 80]);\n  const { id } = useParams();\n  const { userStore, datasetsStore } = useStore();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (datasetsStore.map?.id === id) return;\n    datasetsStore.getMap(id);\n\n    autorun(() => {\n      if (!datasetsStore.isLoading && datasetsStore.map.id === undefined) {\n        navigate('/person-alaccount');\n      }\n    });\n  }, []);\n\n  const setSizeMapContainer = (size) => {\n    setSizeContainer(size);\n  };\n  const addFile = (file) => {\n    datasetsStore.setFile(file);\n  };\n\n  return (\n    <StWrapper>\n      <ElementsContainer\n        size={sizeContainer[0]}\n        name={datasetsStore.map.name}\n      />\n      <MapContainer\n        size={100 - (sizeContainer[0] + (100 - sizeContainer[1]))}\n        left={sizeContainer[0]}\n      />\n\n      <DataContainer\n        size={100 - sizeContainer[1]}\n        addFile={addFile}\n        mapData={datasetsStore.mapData}\n      />\n      <StMenuWrappe>\n        <Menu\n          setSizeMapContainer={setSizeMapContainer}\n          sizeContainer={sizeContainer}\n          minDistanceSlider={35}\n          maxMinSlider={[15, 85]}\n        />\n      </StMenuWrappe>\n    </StWrapper>\n  );\n};\n\nexport default observer(MapRedactorControl);\n","import MapRedactorControl from 'src/components/map-redactor/MapRedactorControl';\n\nexport const MapRedactorPage = () => <MapRedactorControl />;\n","// Basic class for placing controls on a map\r\nimport type { ReactNode } from 'react';\r\nimport { _useMapControl as useMapControl } from 'react-map-gl';\r\nimport styled from 'styled-components';\r\n\r\ntype Position = 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right';\r\ntype Margin = 'no-top' | 'no-right' | 'no-bottom' | 'no-left' | 'no';\r\n\r\nconst SControl = styled.div<{ position: Position; margin: Margin }>`\r\n  position: absolute;\r\n  ${({ position }) =>\r\n    position === 'top-right' &&\r\n    `\r\n      margin-top: 10px;\r\n      margin-right: 10px;\r\n      top: 0;\r\n      right: 0;\r\n    `};\r\n  ${({ position }) =>\r\n    position === 'top-left' &&\r\n    `\r\n      margin-top: 10px;\r\n      margin-left: 10px;\r\n      top: 0;\r\n      left: 0;\r\n    `};\r\n  ${({ position }) =>\r\n    position === 'bottom-right' &&\r\n    `\r\n      margin-bottom: 10px;\r\n      margin-right: 10px;\r\n      bottom: 0;\r\n      right: 0;\r\n    `};\r\n  ${({ position }) =>\r\n    position === 'bottom-left' &&\r\n    `\r\n      margin-bottom: 10px;\r\n      margin-left: 10px;\r\n      bottom: 0;\r\n      left: 0;\r\n    `};\r\n\r\n  ${({ margin }) =>\r\n    margin === 'no-top' &&\r\n    `\r\n      margin-top: 0;\r\n    `};\r\n  ${({ margin }) =>\r\n    margin === 'no-right' &&\r\n    `\r\n      margin-right: 0;\r\n    `};\r\n  ${({ margin }) =>\r\n    margin === 'no-bottom' &&\r\n    `\r\n      margin-bottom: 0;\r\n    `};\r\n  ${({ margin }) =>\r\n    margin === 'no-left' &&\r\n    `\r\n      margin-left: 0;\r\n    `};\r\n\r\n  ${({ margin }) =>\r\n    margin === 'no' &&\r\n    `\r\n      margin: 0;\r\n    `};\r\n`;\r\n\r\nconst Control = (props: ControlProps): JSX.Element => {\r\n  const { position, margin, children } = props;\r\n  const { containerRef } = useMapControl({\r\n    children,\r\n    // @ts-ignore\r\n    onDragStart: (evt) => {\r\n      // prevent the base map from panning\r\n      evt.stopPropagation();\r\n    },\r\n  });\r\n  return (\r\n    <SControl ref={containerRef} position={position} margin={margin}>\r\n      {children}\r\n    </SControl>\r\n  );\r\n};\r\n\r\nexport type ControlProps = {\r\n  position: Position;\r\n  children: ReactNode;\r\n  margin: Margin;\r\n};\r\n\r\nControl.defaultProps = {\r\n  position: 'top-left' as Position,\r\n  children: null,\r\n};\r\n\r\nexport default Control;\r\n","/* eslint-disable no-restricted-syntax */\nimport { useEffect, useState } from 'react';\n\nconst useValidation = (value, validations) => {\n  const [isEmpty, setEmpty] = useState(true);\n  const [isPEmpty, setPEmpty] = useState(true);\n  const [minLength, setMinLength] = useState(false);\n  const [maxLength, setMaxLength] = useState(false);\n  const [inputValid, setInputValid] = useState(false);\n  const [isEmail, setEmail] = useState(false);\n\n  useEffect(() => {\n    // eslint-disable-next-line guard-for-in\n    for (const validation in validations) {\n      // eslint-disable-next-line default-case\n      switch (validation) {\n        case 'minLength':\n          // eslint-disable-next-line no-unused-expressions\n          value ? setPEmpty(false) : setPEmpty(true);\n          // eslint-disable-next-line no-unused-expressions\n          value.length < validations[validation] && isPEmpty === false\n            ? setMinLength(true)\n            : setMinLength(false);\n          break;\n        case 'maxLength':\n          // eslint-disable-next-line no-unused-expressions\n          value ? setPEmpty(false) : setPEmpty(true);\n          // eslint-disable-next-line no-unused-expressions\n          value.length > validations[validation] && isPEmpty === false\n            ? setMaxLength(true)\n            : setMaxLength(false);\n          break;\n        case 'isEmpty':\n          // eslint-disable-next-line no-unused-expressions\n          value ? setPEmpty(false) : setPEmpty(true);\n          // eslint-disable-next-line no-unused-expressions\n          value ? setEmpty(false) : setEmpty(true);\n          break;\n        case 'isEmail':\n          // eslint-disable-next-line no-unused-expressions\n          value ? setPEmpty(false) : setPEmpty(true);\n          // eslint-disable-next-line no-case-declarations\n          const re =\n            /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n          // eslint-disable-next-line no-unused-expressions\n          !re.test(String(value).toLocaleLowerCase()) && isPEmpty === false\n            ? setEmail(true)\n            : setEmail(false);\n          break;\n      }\n    }\n  }, [value]);\n  const errorMessage = {\n    isEmpty: 'Поле пустое',\n    minLength: 'Поле должно быть длиннее 6 символов',\n    maxLength: 'Поле должно быть короче',\n    isEmail: 'Введенный Email некорректен',\n  };\n\n  useEffect(() => {\n    if (isPEmpty || minLength || maxLength || isEmail) {\n      setInputValid(false);\n    } else {\n      setInputValid(true);\n    }\n  }, [isPEmpty, minLength, maxLength, isEmail]);\n  return {\n    isEmpty,\n    minLength,\n    maxLength,\n    isEmail,\n    errorMessage,\n    inputValid,\n  };\n};\n\nexport default useValidation;\n","/* eslint-disable no-restricted-syntax */\nimport { useState } from 'react';\nimport { useSnackbar } from 'notistack';\nimport useValidation from './useValidation';\n\nconst useInput = (initialState, validations) => {\n  const [value, setValue] = useState(initialState);\n  const [isDirty, setDirty] = useState(false);\n  const valid = useValidation(value, validations);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const onChange = (e) => {\n    setValue(e.target.value);\n  };\n  const massageSample = (massage, variant = 'error') => {\n    enqueueSnackbar(massage, { variant });\n  };\n  const errorMessage = () => {\n    // eslint-disable-next-line guard-for-in\n    for (const validation in validations) {\n      // eslint-disable-next-line default-case\n      switch (validation) {\n        case 'minLength':\n          if (!valid.minLength) break;\n          massageSample(valid.errorMessage.minLength);\n          break;\n        case 'maxLength':\n          if (!valid.maxLength) break;\n          massageSample(valid.errorMessage.maxLength);\n          break;\n        case 'isEmpty':\n          if (!valid.isEmpty) break;\n          massageSample(valid.errorMessage.isEmpty);\n          break;\n        case 'isEmail':\n          if (!valid.isEmail) break;\n          massageSample(valid.errorMessage.isEmail);\n          break;\n      }\n    }\n  };\n  const onBlur = () => {\n    setDirty(true);\n    errorMessage();\n  };\n\n  return {\n    value,\n    setValue,\n    onChange,\n    onBlur,\n    isDirty,\n    ...valid,\n  };\n};\n\nexport default useInput;\n","// import SupervisedUserCircleIcon from '@mui/icons-material/SupervisedUserCircle';\nimport PersonAddAlt1RoundedIcon from '@mui/icons-material/PersonAddAlt1Rounded';\nimport PersonRoundedIcon from '@mui/icons-material/PersonRounded';\nimport Tab from '@mui/material/Tab';\nimport Tabs from '@mui/material/Tabs';\nimport { observer } from 'mobx-react-lite';\nimport { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport './styledLogin.css';\n\nconst StWrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  cursor: pointer;\n`;\nconst StTab = styled(Tab)`\n  cursor: pointer;\n`;\nconst pageMenu = [\n  { id:  0, path: '/login', label: 'Sing in', icon: <PersonRoundedIcon /> },\n  {\n    id: 1,\n    path: '/singup',\n    label: 'Sing un',\n    icon: <PersonAddAlt1RoundedIcon />,\n  },\n];\nconst LoginNavigation = ({}) => {\n  const [activePage, setActivePage] = useState(0);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // setActivePage(1);\n    pageMenu.forEach((element) => {\n      if (element.path === window.location.pathname) setActivePage(element.id);\n    });\n  }, []);\n\n  const handleChange = (event, newValue) => {\n    setActivePage(newValue);\n    pageMenu.forEach((element) => {\n      if (element.id === newValue) navigate(element.path);\n    });\n  };\n  return (\n    <StWrapper>\n      <Tabs value={activePage} onChange={handleChange}>\n        {pageMenu.map((p) => (\n          <StTab icon={p.icon} label={p.label} key={p.id} />\n        ))}\n      </Tabs>\n    </StWrapper>\n  );\n};\n\nexport default observer(LoginNavigation);\n","import MapOutlinedIcon from '@mui/icons-material/MapOutlined';\nimport PersonRoundedIcon from '@mui/icons-material/PersonRounded';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport { autorun } from 'mobx';\nimport { observer } from 'mobx-react-lite';\nimport { useSnackbar } from 'notistack';\nimport { useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Control from 'src/components/Control.tsx';\nimport { useStore } from 'src/store/RootStoreContext';\nimport styled from 'styled-components';\nimport useInput from '../hooks/useInput';\nimport LoginNavigation from './LoginNavigation';\nimport './styledLogin.css';\n\nconst StLink = styled(Link)`\n  text-decoration: none;\n`;\n\nconst Login = () => {\n  const { userStore } = useStore();\n  const { enqueueSnackbar } = useSnackbar();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    autorun(() => {\n      if (userStore.message === 'null') return;\n      if (userStore.message === 'login' && !userStore.isLoading) {\n        userStore.message = 'null';\n        navigate('/person-alaccount');\n        enqueueSnackbar('Вход в систему прошел успешно', {\n          variant: 'success',\n        });\n      }\n      if (userStore.message.indexOf('Invalid credentials') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar('Неверные учетные данные', {\n          variant: 'warning',\n        });\n      }\n      if (userStore.message.indexOf('Is not allowed') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar('Необходимо подтвердить адрес электронной почты', {\n          variant: 'warning',\n        });\n      }\n    });\n  }, []);\n\n  const login = useInput('', { minLength: 5, maxLength: 100 });\n  const password = useInput('', { minLength: 6, maxLength: 60 });\n\n  const handleSubmit = (e) => {\n    userStore.login(login.value, password.value);\n    e.preventDefault();\n  };\n\n  return (\n    <div className=\"styledContainer\">\n      <Control position=\"top-left\">\n        <Tooltip title={<h3>Пример</h3>} placement=\"bottom\">\n          <StLink to=\"/pollutionmap\">\n            <Button variant=\"contained\" startIcon={<MapOutlinedIcon />}>\n              Pollution Map\n            </Button>\n          </StLink>\n        </Tooltip>\n      </Control>\n      <LoginNavigation />\n      <h1 className=\"styledInfo\">Sing in to PMap</h1>\n      <div\n        className={\n          !login.inputValid || !password.inputValid\n            ? 'styledForm'\n            : 'styledFormLuck'\n        }\n      >\n        <form onSubmit={handleSubmit}>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={login.isDirty && !login.inputValid}\n              value={login.value}\n              onChange={(e) => login.onChange(e)}\n              onBlur={(e) => login.onBlur(e)}\n              label=\"Login or email\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={password.isDirty && !password.inputValid}\n              value={password.value}\n              onChange={(e) => password.onChange(e)}\n              onBlur={(e) => password.onBlur(e)}\n              type=\"password\"\n              label=\"password\"\n              variant=\"outlined\"\n            />\n          </div>\n          <LoadingButton\n            startIcon={<PersonRoundedIcon />}\n            loading={userStore.isLoading}\n            disabled={!login.inputValid || !password.inputValid}\n            variant=\"contained\"\n            type=\"submit\"\n          >\n            Sing in\n          </LoadingButton>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default observer(Login);\n","import Login from 'src/components/auth/SingIn';\n\nexport const LoginPage = () => <Login />;\n","import { useCallback } from 'react';\r\nimport { FlyToInterpolator } from 'react-map-gl';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\n\r\nconst flyToInterpolator = new FlyToInterpolator();\r\n\r\nexport const useFlyTo = () => {\r\n  const { mapStore } = useStore();\r\n\r\n  const flyTo = useCallback((city) => {\r\n    mapStore.changeViewState((prevViewState) => ({\r\n      ...prevViewState,\r\n      latitude: city.latitude,\r\n      longitude: city.longitude,\r\n      zoom: 11.9,\r\n      transitionDuration: 'auto',\r\n      transitionInterpolator: flyToInterpolator,\r\n    }));\r\n  }, []);\r\n  return flyTo;\r\n};\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport { CircularProgress, Paper } from '@material-ui/core';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport { autorun, when } from 'mobx';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useEffect, useState } from 'react';\r\nimport Control from 'src/components/Control';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\nimport styled from 'styled-components';\r\nimport { useFlyTo } from '../transitions/useFlyTo';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst StyledPapper = styled(Paper)`\r\n  ${({ width }) => `width: ${width}`};\r\n  opacity: 0.6;\r\n`;\r\n\r\nexport const CitySelection = observer(({ position }) => {\r\n  const { citiesStore } = useStore();\r\n  const [error, setError] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const flyTo = useFlyTo();\r\n\r\n  useEffect(() => {\r\n    autorun(() => {\r\n      if (citiesStore.loadingError) setError(citiesStore.loadingError);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Control position={position}>\r\n      <StyledPapper width=\"300px\">\r\n        <Autocomplete\r\n          value={citiesStore.SelectedCity}\r\n          loading={loading}\r\n          options={citiesStore.cities}\r\n          onChange={(_, selectedCity) => {\r\n            if (!selectedCity) return;\r\n\r\n            setLoading(true);\r\n            citiesStore.setSelectedCity(selectedCity?.name);\r\n            when(\r\n              () =>\r\n                citiesStore.SelectedCity.latitude &&\r\n                citiesStore.SelectedCity.longitude,\r\n              () => {\r\n                setLoading(false);\r\n                setError();\r\n                flyTo(citiesStore.SelectedCity);\r\n              }\r\n            );\r\n          }}\r\n          getOptionLabel={(option) => option.name}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label=\"Текущий город\"\r\n              variant=\"filled\"\r\n              InputProps={{\r\n                ...params.InputProps,\r\n                endAdornment: (\r\n                  <>\r\n                    {loading ? (\r\n                      <CircularProgress color=\"inherit\" size={20} />\r\n                    ) : null}\r\n                    {params.InputProps.endAdornment}\r\n                  </>\r\n                ),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n      </StyledPapper>\r\n\r\n      <Snackbar open={!!error}>\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      </Snackbar>\r\n    </Control>\r\n  );\r\n});\r\n","import Divider from '@material-ui/core/Divider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Control from 'src/components/Control.tsx';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    display: 'flex',\r\n    border: `1px solid ${theme.palette.divider}`,\r\n    flexWrap: 'wrap',\r\n  },\r\n  divider: {\r\n    margin: theme.spacing(1, 0.5),\r\n  },\r\n}));\r\nexport function ButtonGroups({ modeSelection, additionalModeSelection }) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Control position=\"top-right\">\r\n      <Paper elevation={0} className={classes.paper} style={{ borderWidth: 0 }}>\r\n        {modeSelection}\r\n        <Divider flexItem orientation=\"vertical\" className={classes.divider} />\r\n        {additionalModeSelection}\r\n      </Paper>\r\n    </Control>\r\n  );\r\n}\r\n","import { SvgBase } from './SvgBase';\r\n\r\nexport const Logo = () => (\r\n  <SvgBase viewBox=\"0 -0.6 189 43\" height=\"43\">\r\n    <path\r\n      d=\"M88.8398 7.38364C88.8398 7.09966 88.7884 6.84025 88.6856 6.60543C89.1175 6.17353 89.3335 5.64774 89.3335 5.02805C89.3335 4.44593 89.1175 3.96708 88.6856 3.59151C88.2537 3.19717 87.7186 3 87.0801 3C86.4416 3 85.9064 3.20656 85.4745 3.61968C85.3692 3.71585 85.2767 3.81816 85.1971 3.92661C85.0096 3.88402 84.8109 3.86272 84.6011 3.86272C83.9626 3.86272 83.4274 4.06928 82.9955 4.4824C82.5636 4.87675 82.3477 5.37437 82.3477 5.97528C82.3477 6.10321 82.3574 6.22689 82.377 6.34631C82.0609 6.44731 81.7788 6.61643 81.5308 6.85366C81.0989 7.24801 80.8829 7.74563 80.8829 8.34653C80.8829 8.75049 80.9805 9.11201 81.1757 9.4311C80.8866 9.78445 80.7421 10.2069 80.7421 10.6985C80.7421 11.2994 80.9581 11.8064 81.39 12.2196C81.8219 12.6139 82.3571 12.8111 82.9955 12.8111C83.6528 12.8111 84.1879 12.6045 84.6011 12.1914C84.7551 12.0373 84.8818 11.8712 84.9809 11.6933C85.6381 11.6933 86.1733 11.4867 86.5864 11.0736C87.0165 10.6435 87.2324 10.1204 87.2342 9.50413C87.6048 9.40996 87.9241 9.22892 88.192 8.96101C88.6239 8.52911 88.8398 8.00332 88.8398 7.38364Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path d=\"M81.221 15.2898H84.7419V30.3312H81.221V15.2898Z\" fill=\"black\" />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M10.9233 10.614C12.6321 10.614 14.1156 10.8957 15.3737 11.459C16.6506 12.0224 17.6271 12.8299 18.3031 13.8814C18.9791 14.933 19.3171 16.1818 19.3171 17.6277C19.3171 19.0548 18.9791 20.3036 18.3031 21.374C17.6271 22.4256 16.6506 23.233 15.3737 23.7964C14.1156 24.3597 12.6321 24.6414 10.9233 24.6414H6.4728V30.3312H2.81104V10.614H10.9233ZM10.7542 21.543C12.3504 21.543 13.5616 21.205 14.3878 20.529C15.2141 19.8529 15.6272 18.8858 15.6272 17.6277C15.6272 16.3696 15.2141 15.4025 14.3878 14.7265C13.5616 14.0504 12.3504 13.7124 10.7542 13.7124H6.4728V21.543H10.7542Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M28.0735 30.5284C26.5524 30.5284 25.1816 30.1998 23.961 29.5425C22.7404 28.8853 21.7827 27.9745 21.0879 26.8103C20.4119 25.6273 20.0739 24.294 20.0739 22.8105C20.0739 21.327 20.4119 20.0032 21.0879 18.8389C21.7827 17.6746 22.7404 16.7639 23.961 16.1067C25.1816 15.4494 26.5524 15.1208 28.0735 15.1208C29.6133 15.1208 30.9935 15.4494 32.2141 16.1067C33.4347 16.7639 34.383 17.6746 35.059 18.8389C35.7538 20.0032 36.1012 21.327 36.1012 22.8105C36.1012 24.294 35.7538 25.6273 35.059 26.8103C34.383 27.9745 33.4347 28.8853 32.2141 29.5425C30.9935 30.1998 29.6133 30.5284 28.0735 30.5284ZM28.0735 27.5145C29.3692 27.5145 30.4395 27.0826 31.2845 26.2188C32.1296 25.355 32.5521 24.2189 32.5521 22.8105C32.5521 21.4021 32.1296 20.2661 31.2845 19.4023C30.4395 18.5384 29.3692 18.1065 28.0735 18.1065C26.7778 18.1065 25.7074 18.5384 24.8624 19.4023C24.0361 20.2661 23.623 21.4021 23.623 22.8105C23.623 24.2189 24.0361 25.355 24.8624 26.2188C25.7074 27.0826 26.7778 27.5145 28.0735 27.5145Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M67.2079 15.2898V30.3312H63.856V28.4158C63.2926 29.0918 62.5884 29.6176 61.7434 29.9932C60.8984 30.35 59.9876 30.5284 59.0112 30.5284C57.0019 30.5284 55.4151 29.9744 54.2509 28.8665C53.1054 27.7398 52.5327 26.0779 52.5327 23.8809V15.2898H56.0536V23.402C56.0536 24.7541 56.354 25.7681 56.955 26.4441C57.5746 27.1014 58.4478 27.43 59.5745 27.43C60.8327 27.43 61.8279 27.045 62.5603 26.2751C63.3114 25.4864 63.687 24.3597 63.687 22.895V15.2898H67.2079Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M77.0852 30.2749C77.6861 30.1059 78.1931 29.8524 78.6062 29.5144L77.6204 27.0075C77.0946 27.4206 76.4373 27.6271 75.6487 27.6271C74.9726 27.6271 74.4562 27.4394 74.0994 27.0638C73.7427 26.6695 73.5643 26.1061 73.5643 25.3737V18.2192H77.5922V15.4025H73.5643V11.9661H70.0433V15.4025H67.5646V18.2192H70.0433V25.4582C70.0433 27.1107 70.494 28.3689 71.3954 29.2327C72.2967 30.0965 73.5737 30.5284 75.2261 30.5284C75.8834 30.5284 76.5031 30.4439 77.0852 30.2749Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M90.7433 29.5425C91.9639 30.1998 93.3347 30.5284 94.8558 30.5284C96.3956 30.5284 97.7758 30.1998 98.9964 29.5425C100.217 28.8853 101.165 27.9745 101.841 26.8103C102.536 25.6273 102.883 24.294 102.883 22.8105C102.883 21.327 102.536 20.0032 101.841 18.8389C101.165 17.6746 100.217 16.7639 98.9964 16.1067C97.7758 15.4494 96.3956 15.1208 94.8558 15.1208C93.3347 15.1208 91.9639 15.4494 90.7433 16.1067C89.5227 16.7639 88.565 17.6746 87.8702 18.8389C87.1942 20.0032 86.8562 21.327 86.8562 22.8105C86.8562 24.294 87.1942 25.6273 87.8702 26.8103C88.565 27.9745 89.5227 28.8853 90.7433 29.5425ZM98.0668 26.2188C97.2218 27.0826 96.1515 27.5145 94.8558 27.5145C93.5601 27.5145 92.4897 27.0826 91.6447 26.2188C90.8184 25.355 90.4053 24.2189 90.4053 22.8105C90.4053 21.4021 90.8184 20.2661 91.6447 19.4023C92.4897 18.5384 93.5601 18.1065 94.8558 18.1065C96.1515 18.1065 97.2218 18.5384 98.0668 19.4023C98.9119 20.2661 99.3344 21.4021 99.3344 22.8105C99.3344 24.2189 98.9119 25.355 98.0668 26.2188Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M113.517 15.1208C115.414 15.1208 116.935 15.6748 118.08 16.7827C119.226 17.8906 119.799 19.5337 119.799 21.712V30.3312H116.278V22.1627C116.278 20.8482 115.968 19.8623 115.348 19.2051C114.729 18.5291 113.846 18.191 112.7 18.191C111.405 18.191 110.381 18.5854 109.63 19.3741C108.879 20.144 108.504 21.2613 108.504 22.726V30.3312H104.983V15.2898H108.335V17.2334C108.917 16.5386 109.649 16.0128 110.532 15.656C111.414 15.2992 112.409 15.1208 113.517 15.1208Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M147.936 17.2615L147.964 30.3312H151.429L151.401 10.614H148.387L140.697 23.6837L132.867 10.614H129.853V30.3312H133.345V17.4305L139.824 28.0778H141.458L147.936 17.2615Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M159.887 15.1208C162.102 15.1208 163.792 15.656 164.957 16.7263C166.14 17.7779 166.731 19.3741 166.731 21.5148V30.3312H163.407V28.5003C162.976 29.1576 162.356 29.6646 161.548 30.0214C160.76 30.3594 159.802 30.5284 158.675 30.5284C157.549 30.5284 156.563 30.3406 155.718 29.965C154.873 29.5707 154.215 29.0355 153.746 28.3595C153.295 27.6647 153.07 26.8854 153.07 26.0216C153.07 24.6696 153.568 23.5898 154.563 22.7823C155.577 21.9561 157.164 21.543 159.323 21.543H163.21V21.3176C163.21 20.2661 162.891 19.4586 162.253 18.8952C161.633 18.3319 160.703 18.0502 159.464 18.0502C158.619 18.0502 157.783 18.1817 156.957 18.4446C156.15 18.7075 155.464 19.0736 154.901 19.5431L153.521 16.9798C154.309 16.3789 155.258 15.9189 156.366 15.5996C157.474 15.2804 158.647 15.1208 159.887 15.1208ZM159.408 27.9652C160.29 27.9652 161.07 27.768 161.746 27.3736C162.44 26.9605 162.929 26.3784 163.21 25.6273V23.8809H159.577C157.549 23.8809 156.535 24.5475 156.535 25.8808C156.535 26.5192 156.788 27.0262 157.295 27.4018C157.802 27.7774 158.506 27.9652 159.408 27.9652Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M183.244 16.0785C182.099 15.44 180.793 15.1208 179.329 15.1208C178.296 15.1208 177.348 15.2992 176.484 15.656C176.093 15.8209 175.731 16.024 175.396 16.2652C175.001 16.55 174.343 16.2946 174.343 15.8076C174.343 15.5216 174.111 15.2898 173.825 15.2898H172.033C171.458 15.2898 170.991 15.7563 170.991 16.3318V34.4992C170.991 34.6705 171.075 34.8309 171.216 34.9282L172.784 36.0087L174.294 34.9287C174.431 34.8309 174.512 34.6731 174.512 34.5049V31.2737C174.512 30.3115 175.859 29.7349 176.756 30.0831C177.521 30.38 178.378 30.5284 179.329 30.5284C180.793 30.5284 182.099 30.2092 183.244 29.5707C184.408 28.9322 185.319 28.0309 185.976 26.8666C186.633 25.6836 186.962 24.3316 186.962 22.8105C186.962 21.2895 186.633 19.9468 185.976 18.7826C185.319 17.6183 184.408 16.717 183.244 16.0785ZM182.117 26.2188C181.291 27.0826 180.23 27.5145 178.934 27.5145C178.089 27.5145 177.329 27.3267 176.653 26.9511C175.977 26.5568 175.442 26.0028 175.047 25.2892C174.653 24.5757 174.456 23.7494 174.456 22.8105C174.456 21.8716 174.653 21.0454 175.047 20.3318C175.442 19.6182 175.977 19.0736 176.653 18.6981C177.329 18.3037 178.089 18.1065 178.934 18.1065C180.23 18.1065 181.291 18.5384 182.117 19.4023C182.962 20.2661 183.385 21.4021 183.385 22.8105C183.385 24.2189 182.962 25.355 182.117 26.2188Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M168.24 33.3283C168.056 32.9975 167.708 32.7923 167.329 32.7923H163.637C163.04 32.7923 162.495 33.1326 162.233 33.6691L159.053 40.1753C158.546 41.2136 159.302 42.4246 160.458 42.4246H184.978C186.124 42.4246 186.881 41.2324 186.392 40.1956L183.329 33.6895C183.071 33.1419 182.52 32.7923 181.915 32.7923H178.619C178.031 32.7923 177.493 33.1223 177.226 33.6462L176.653 34.7729H180.727C181.119 34.7729 181.478 34.9928 181.656 35.3422L182.601 37.1981L177.312 36.3128C176.187 36.1244 175.032 36.2399 173.966 36.6474L170.696 37.8979C169.129 38.4968 167.374 38.337 165.941 37.465L163.407 35.9222L163.549 35.6367C163.814 35.1073 164.355 34.7729 164.947 34.7729H169.043L168.24 33.3283ZM162.964 36.8068L161.632 39.4699C161.459 39.8163 161.711 40.224 162.098 40.224H183.291C183.68 40.224 183.932 39.8132 183.755 39.4666L183.157 38.2906L177.149 37.2849C176.197 37.1255 175.22 37.2232 174.318 37.568L171.048 38.8185C169.196 39.5263 167.122 39.3374 165.429 38.3069L162.964 36.8068Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M87.8541 7.38364C87.8541 7.09966 87.8028 6.84025 87.7 6.60543C88.1319 6.17353 88.3478 5.64774 88.3478 5.02805C88.3478 4.44593 88.1319 3.96708 87.7 3.59151C87.2681 3.19717 86.7329 3 86.0944 3C85.456 3 84.9208 3.20656 84.4889 3.61968C84.3836 3.71585 84.2911 3.81816 84.2114 3.92661C84.0239 3.88402 83.8252 3.86272 83.6154 3.86272C82.9769 3.86272 82.4418 4.06928 82.0099 4.4824C81.5779 4.87675 81.362 5.37437 81.362 5.97528C81.362 6.10321 81.3718 6.22689 81.3914 6.34631C81.0752 6.44731 80.7932 6.61643 80.5451 6.85366C80.1132 7.24801 79.8973 7.74563 79.8973 8.34653C79.8973 8.75049 79.9949 9.11201 80.1901 9.4311C79.901 9.78445 79.7565 10.2069 79.7565 10.6985C79.7565 11.2994 79.9724 11.8064 80.4043 12.2196C80.8362 12.6139 81.3714 12.8111 82.0099 12.8111C82.6671 12.8111 83.2023 12.6045 83.6154 12.1914C83.7695 12.0373 83.8961 11.8712 83.9952 11.6933C84.6524 11.6933 85.1876 11.4867 85.6007 11.0736C86.0308 10.6435 86.2467 10.1204 86.2486 9.50413C86.6192 9.40996 86.9384 9.22892 87.2063 8.96101C87.6382 8.52911 87.8541 8.00332 87.8541 7.38364Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path d=\"M80.2353 15.2898H83.7562V30.3312H80.2353V15.2898Z\" fill=\"black\" />\r\n    <path d=\"M49.2917 9.43097H45.7707V30.3312H49.2917V9.43097Z\" fill=\"black\" />\r\n    <path d=\"M48.306 9.43097H44.7851V30.3312H48.306V9.43097Z\" fill=\"black\" />\r\n    <path d=\"M42.5066 9.43097H38.9856V30.3312H42.5066V9.43097Z\" fill=\"black\" />\r\n    <path d=\"M41.5209 9.43097H38V30.3312H41.5209V9.43097Z\" fill=\"black\" />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M9.93759 10.614C11.6464 10.614 13.1299 10.8957 14.388 11.459C15.665 12.0224 16.6414 12.8299 17.3175 13.8814C17.9935 14.933 18.3315 16.1818 18.3315 17.6277C18.3315 19.0548 17.9935 20.3036 17.3175 21.374C16.6414 22.4256 15.665 23.233 14.388 23.7964C13.1299 24.3597 11.6464 24.6414 9.93759 24.6414H5.48714V30.3312H1.82538V10.614H9.93759ZM9.76859 21.543C11.3647 21.543 12.5759 21.205 13.4022 20.529C14.2284 19.8529 14.6416 18.8858 14.6416 17.6277C14.6416 16.3696 14.2284 15.4025 13.4022 14.7265C12.5759 14.0504 11.3647 13.7124 9.76859 13.7124H5.48714V21.543H9.76859Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M27.0878 30.5284C25.5668 30.5284 24.196 30.1998 22.9754 29.5425C21.7548 28.8853 20.7971 27.9745 20.1023 26.8103C19.4263 25.6273 19.0883 24.294 19.0883 22.8105C19.0883 21.327 19.4263 20.0032 20.1023 18.8389C20.7971 17.6746 21.7548 16.7639 22.9754 16.1067C24.196 15.4494 25.5668 15.1208 27.0878 15.1208C28.6276 15.1208 30.0078 15.4494 31.2284 16.1067C32.449 16.7639 33.3973 17.6746 34.0733 18.8389C34.7681 20.0032 35.1155 21.327 35.1155 22.8105C35.1155 24.294 34.7681 25.6273 34.0733 26.8103C33.3973 27.9745 32.449 28.8853 31.2284 29.5425C30.0078 30.1998 28.6276 30.5284 27.0878 30.5284ZM27.0878 27.5145C28.3835 27.5145 29.4539 27.0826 30.2989 26.2188C31.1439 25.355 31.5664 24.2189 31.5664 22.8105C31.5664 21.4021 31.1439 20.2661 30.2989 19.4023C29.4539 18.5384 28.3835 18.1065 27.0878 18.1065C25.7921 18.1065 24.7217 18.5384 23.8767 19.4023C23.0505 20.2661 22.6374 21.4021 22.6374 22.8105C22.6374 24.2189 23.0505 25.355 23.8767 26.2188C24.7217 27.0826 25.7921 27.5145 27.0878 27.5145Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M66.2222 15.2898V30.3312H62.8703V28.4158C62.307 29.0918 61.6028 29.6176 60.7578 29.9932C59.9127 30.35 59.002 30.5284 58.0255 30.5284C56.0162 30.5284 54.4295 29.9744 53.2652 28.8665C52.1197 27.7398 51.547 26.0779 51.547 23.8809V15.2898H55.0679V23.402C55.0679 24.7541 55.3684 25.7681 55.9693 26.4441C56.589 27.1014 57.4622 27.43 58.5889 27.43C59.847 27.43 60.8423 27.045 61.5746 26.2751C62.3257 25.4864 62.7013 24.3597 62.7013 22.895V15.2898H66.2222Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M77.0852 30.2749C77.6861 30.1059 78.1931 29.8524 78.6062 29.5144L77.6204 27.0075C77.0946 27.4206 76.4373 27.6271 75.6487 27.6271C74.9726 27.6271 74.4562 27.4394 74.0994 27.0638C73.7427 26.6695 73.5643 26.1061 73.5643 25.3737V18.2192H77.5922V15.4025H73.5643V11.9661H70.0433V15.4025H67.5646V18.2192H70.0433V25.4582C70.0433 27.1107 70.494 28.3689 71.3954 29.2327C72.2967 30.0965 73.5737 30.5284 75.2261 30.5284C75.8834 30.5284 76.5031 30.4439 77.0852 30.2749Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M89.7577 29.5425C90.9782 30.1998 92.3491 30.5284 93.8701 30.5284C95.4099 30.5284 96.7901 30.1998 98.0107 29.5425C99.2313 28.8853 100.18 27.9745 100.856 26.8103C101.55 25.6273 101.898 24.294 101.898 22.8105C101.898 21.327 101.55 20.0032 100.856 18.8389C100.18 17.6746 99.2313 16.7639 98.0107 16.1067C96.7901 15.4494 95.4099 15.1208 93.8701 15.1208C92.3491 15.1208 90.9782 15.4494 89.7577 16.1067C88.5371 16.7639 87.5794 17.6746 86.8846 18.8389C86.2086 20.0032 85.8705 21.327 85.8705 22.8105C85.8705 24.294 86.2086 25.6273 86.8846 26.8103C87.5794 27.9745 88.5371 28.8853 89.7577 29.5425ZM97.0812 26.2188C96.2362 27.0826 95.1658 27.5145 93.8701 27.5145C92.5744 27.5145 91.504 27.0826 90.659 26.2188C89.8328 25.355 89.4196 24.2189 89.4196 22.8105C89.4196 21.4021 89.8328 20.2661 90.659 19.4023C91.504 18.5384 92.5744 18.1065 93.8701 18.1065C95.1658 18.1065 96.2362 18.5384 97.0812 19.4023C97.9262 20.2661 98.3487 21.4021 98.3487 22.8105C98.3487 24.2189 97.9262 25.355 97.0812 26.2188Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M112.532 15.1208C114.428 15.1208 115.949 15.6748 117.095 16.7827C118.24 17.8906 118.813 19.5337 118.813 21.712V30.3312H115.292V22.1627C115.292 20.8482 114.982 19.8623 114.363 19.2051C113.743 18.5291 112.86 18.191 111.715 18.191C110.419 18.191 109.396 18.5854 108.645 19.3741C107.893 20.144 107.518 21.2613 107.518 22.726V30.3312H103.997V15.2898H107.349V17.2334C107.931 16.5386 108.663 16.0128 109.546 15.656C110.429 15.2992 111.424 15.1208 112.532 15.1208Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      d=\"M146.951 17.2615L146.979 30.3312H150.443L150.415 10.614H147.401L139.711 23.6837L131.881 10.614H128.867V30.3312H132.36V17.4305L138.838 28.0778H140.472L146.951 17.2615Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M159.91 15.1208C162.126 15.1208 163.816 15.656 164.98 16.7263C166.163 17.7779 166.754 19.3741 166.754 21.5148V30.3312H163.431V28.5003C162.999 29.1576 162.379 29.6646 161.572 30.0214C160.783 30.3594 159.825 30.5284 158.699 30.5284C157.572 30.5284 156.586 30.3406 155.741 29.965C154.896 29.5707 154.239 29.0355 153.769 28.3595C153.319 27.6647 153.093 26.8854 153.093 26.0216C153.093 24.6696 153.591 23.5898 154.586 22.7823C155.6 21.9561 157.187 21.543 159.346 21.543H163.233V21.3176C163.233 20.2661 162.914 19.4586 162.276 18.8952C161.656 18.3319 160.727 18.0502 159.487 18.0502C158.642 18.0502 157.807 18.1817 156.98 18.4446C156.173 18.7075 155.487 19.0736 154.924 19.5431L153.544 16.9798C154.333 16.3789 155.281 15.9189 156.389 15.5996C157.497 15.2804 158.67 15.1208 159.91 15.1208ZM159.431 27.9652C160.313 27.9652 161.093 27.768 161.769 27.3736C162.464 26.9605 162.952 26.3784 163.233 25.6273V23.8809H159.6C157.572 23.8809 156.558 24.5475 156.558 25.8808C156.558 26.5192 156.811 27.0262 157.318 27.4018C157.825 27.7774 158.53 27.9652 159.431 27.9652Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M182.258 16.0785C181.113 15.44 179.808 15.1208 178.343 15.1208C177.31 15.1208 176.362 15.2992 175.498 15.656C175.108 15.8209 174.745 16.024 174.411 16.2652C174.016 16.55 173.357 16.2946 173.357 15.8076C173.357 15.5216 173.126 15.2898 172.84 15.2898H171.048C170.472 15.2898 170.006 15.7563 170.006 16.3318V34.4992C170.006 34.6705 170.09 34.8309 170.231 34.9282L171.798 36.0087L173.308 34.9287C173.445 34.8309 173.526 34.6731 173.526 34.5049V31.2737C173.526 30.3115 174.874 29.7349 175.771 30.0831C176.535 30.38 177.393 30.5284 178.343 30.5284C179.808 30.5284 181.113 30.2092 182.258 29.5707C183.423 28.9322 184.333 28.0309 184.991 26.8666C185.648 25.6836 185.976 24.3316 185.976 22.8105C185.976 21.2895 185.648 19.9468 184.991 18.7826C184.333 17.6183 183.423 16.717 182.258 16.0785ZM181.132 26.2188C180.305 27.0826 179.244 27.5145 177.949 27.5145C177.104 27.5145 176.343 27.3267 175.667 26.9511C174.991 26.5568 174.456 26.0028 174.062 25.2892C173.667 24.5757 173.47 23.7494 173.47 22.8105C173.47 21.8716 173.667 21.0454 174.062 20.3318C174.456 19.6182 174.991 19.0736 175.667 18.6981C176.343 18.3037 177.104 18.1065 177.949 18.1065C179.244 18.1065 180.305 18.5384 181.132 19.4023C181.977 20.2661 182.399 21.4021 182.399 22.8105C182.399 24.2189 181.977 25.355 181.132 26.2188Z\"\r\n      fill=\"black\"\r\n    />\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      clipRule=\"evenodd\"\r\n      d=\"M167.255 33.3283C167.071 32.9975 166.722 32.7923 166.344 32.7923H162.651C162.054 32.7923 161.509 33.1326 161.247 33.6691L158.068 40.1753C157.56 41.2136 158.316 42.4246 159.472 42.4246H183.993C185.139 42.4246 185.895 41.2324 185.407 40.1956L182.343 33.6895C182.085 33.1419 181.534 32.7923 180.929 32.7923H177.634C177.046 32.7923 176.508 33.1223 176.241 33.6462L175.667 34.7729H179.742C180.134 34.7729 180.492 34.9928 180.67 35.3422L181.615 37.1981L176.326 36.3128C175.201 36.1244 174.046 36.2399 172.981 36.6474L169.71 37.8979C168.144 38.4968 166.388 38.337 164.956 37.465L162.421 35.9222L162.564 35.6367C162.829 35.1073 163.37 34.7729 163.962 34.7729H168.057L167.255 33.3283ZM161.979 36.8068L160.647 39.4699C160.473 39.8163 160.725 40.224 161.112 40.224H182.306C182.694 40.224 182.946 39.8132 182.77 39.4666L182.171 38.2906L176.164 37.2849C175.212 37.1255 174.234 37.2232 173.333 37.568L170.062 38.8185C168.211 39.5263 166.136 39.3374 164.443 38.3069L161.979 36.8068Z\"\r\n      fill=\"black\"\r\n    />\r\n    <g filter=\"url(#filter0_i)\">\r\n      <path\r\n        d=\"M90.9381 5.80847C90.9381 5.43218 90.8723 5.08846 90.7407 4.77731C91.2937 4.20503 91.5702 3.50834 91.5702 2.68724C91.5702 1.9159 91.2937 1.28141 90.7407 0.783777C90.1877 0.261259 89.5025 0 88.6851 0C87.8676 0 87.1824 0.2737 86.6294 0.821099C86.4945 0.948526 86.3761 1.08409 86.2742 1.22779C86.0341 1.17135 85.7797 1.14313 85.511 1.14313C84.6936 1.14313 84.0083 1.41683 83.4553 1.96423C82.9024 2.48675 82.6259 3.14612 82.6259 3.94234C82.6259 4.11186 82.6384 4.27573 82.6635 4.43397C82.2587 4.56781 81.8975 4.79189 81.58 5.10623C81.027 5.62875 80.7505 6.28812 80.7505 7.08434C80.7505 7.61959 80.8755 8.09861 81.1254 8.52142C80.7553 8.98962 80.5702 9.54941 80.5702 10.2008C80.5702 10.997 80.8467 11.6688 81.3997 12.2162C81.9527 12.7387 82.6379 13 83.4554 13C84.2969 13 84.9821 12.7263 85.511 12.1789C85.7083 11.9747 85.8704 11.7547 85.9973 11.5189C86.8388 11.5189 87.524 11.2452 88.053 10.6977C88.6036 10.1279 88.8801 9.43472 88.8824 8.61819C89.3569 8.49341 89.7656 8.25353 90.1086 7.89854C90.6616 7.32626 90.9381 6.62957 90.9381 5.80847Z\"\r\n        fill=\"url(#paint0_linear)\"\r\n      />\r\n      <path\r\n        d=\"M161.759 37.0511C161.446 36.7999 161.263 35.3993 161.211 35.0013C161.085 34.0202 161.812 34.7856 162.802 34.7856H175.785C179.099 34.7856 181.785 32.4719 181.785 35.7856C181.785 39.0993 184.099 37.7856 180.785 37.7856L175.785 37.2856C172.398 36.4588 166.661 40.9852 161.759 37.0511Z\"\r\n        fill=\"url(#paint1_linear)\"\r\n        fillOpacity=\"0.72\"\r\n      />\r\n      <path\r\n        d=\"M162.991 36.9337C162.497 36.5646 161.743 36.912 161.571 37.5041C161.233 38.6661 160.552 39.5667 159.948 40.1815C159.757 40.3757 159.993 40.8556 160.258 40.7922C160.276 40.7879 160.292 40.7856 160.31 40.7856C163.309 40.784 176.388 40.5027 180.996 41.0439C181.86 41.1454 182.854 41.4326 183.527 40.8806C184.031 40.4666 183.856 39.8225 183.5 39.2288C182.867 38.1725 181.629 37.7064 180.406 37.5586L177.178 37.1684C176.262 37.0576 175.329 37.1649 174.454 37.4595C167.921 39.6588 166.155 39.2985 162.991 36.9337Z\"\r\n        fill=\"url(#paint2_linear)\"\r\n      />\r\n      <path\r\n        d=\"M87.8542 7.38364C87.8542 7.09966 87.8028 6.84025 87.7 6.60543C88.1319 6.17353 88.3478 5.64774 88.3478 5.02805C88.3478 4.44593 88.1319 3.96708 87.7 3.59151C87.2681 3.19717 86.7329 3 86.0944 3C85.456 3 84.9208 3.20656 84.4889 3.61968C84.3836 3.71585 84.2911 3.81816 84.2114 3.92661C84.0239 3.88402 83.8252 3.86272 83.6154 3.86272C82.9769 3.86272 82.4418 4.06928 82.0099 4.4824C81.5779 4.87675 81.362 5.37437 81.362 5.97528C81.362 6.10321 81.3718 6.22689 81.3914 6.34631C81.0752 6.44731 80.7932 6.61643 80.5451 6.85366C80.1132 7.24801 79.8973 7.74563 79.8973 8.34653C79.8973 8.75049 79.9949 9.11201 80.1901 9.4311C79.901 9.78445 79.7565 10.2069 79.7565 10.6985C79.7565 11.2994 79.9724 11.8064 80.4043 12.2196C80.8362 12.6139 81.3714 12.8111 82.0099 12.8111C82.6671 12.8111 83.2023 12.6045 83.6154 12.1914C83.7695 12.0373 83.8961 11.8712 83.9952 11.6933C84.6524 11.6933 85.1876 11.4867 85.6008 11.0736C86.0308 10.6435 86.2467 10.1204 86.2486 9.50413C86.6192 9.40996 86.9384 9.22892 87.2063 8.96101C87.6382 8.52911 87.8542 8.00332 87.8542 7.38364Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        d=\"M80.2353 15.2898H83.7562V30.3312H80.2353V15.2898Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path d=\"M48.306 9.43097H44.7851V30.3312H48.306V9.43097Z\" fill=\"black\" />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M9.93759 10.614C11.6464 10.614 13.1299 10.8957 14.388 11.459C15.665 12.0224 16.6414 12.8299 17.3175 13.8814C17.9935 14.933 18.3315 16.1818 18.3315 17.6277C18.3315 19.0548 17.9935 20.3036 17.3175 21.374C16.6414 22.4256 15.665 23.233 14.388 23.7964C13.1299 24.3597 11.6464 24.6414 9.93759 24.6414H5.48714V30.3312H1.82538V10.614H9.93759ZM9.76859 21.543C11.3647 21.543 12.5759 21.205 13.4022 20.529C14.2284 19.8529 14.6416 18.8858 14.6416 17.6277C14.6416 16.3696 14.2284 15.4025 13.4022 14.7265C12.5759 14.0504 11.3647 13.7124 9.76859 13.7124H5.48714V21.543H9.76859Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M27.0878 30.5284C25.5668 30.5284 24.196 30.1998 22.9754 29.5425C21.7548 28.8853 20.7971 27.9745 20.1023 26.8103C19.4263 25.6273 19.0883 24.294 19.0883 22.8105C19.0883 21.327 19.4263 20.0032 20.1023 18.8389C20.7971 17.6746 21.7548 16.7639 22.9754 16.1067C24.196 15.4494 25.5668 15.1208 27.0878 15.1208C28.6276 15.1208 30.0078 15.4494 31.2284 16.1067C32.449 16.7639 33.3973 17.6746 34.0733 18.8389C34.7681 20.0032 35.1155 21.327 35.1155 22.8105C35.1155 24.294 34.7681 25.6273 34.0733 26.8103C33.3973 27.9745 32.449 28.8853 31.2284 29.5425C30.0078 30.1998 28.6276 30.5284 27.0878 30.5284ZM27.0878 27.5145C28.3835 27.5145 29.4539 27.0826 30.2989 26.2188C31.1439 25.355 31.5664 24.2189 31.5664 22.8105C31.5664 21.4021 31.1439 20.2661 30.2989 19.4023C29.4539 18.5385 28.3835 18.1065 27.0878 18.1065C25.7921 18.1065 24.7217 18.5385 23.8767 19.4023C23.0505 20.2661 22.6374 21.4021 22.6374 22.8105C22.6374 24.2189 23.0505 25.355 23.8767 26.2188C24.7217 27.0826 25.7921 27.5145 27.0878 27.5145Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        d=\"M66.2222 15.2898V30.3312H62.8703V28.4158C62.307 29.0918 61.6028 29.6176 60.7578 29.9932C59.9127 30.35 59.002 30.5284 58.0255 30.5284C56.0162 30.5284 54.4295 29.9744 53.2652 28.8665C52.1197 27.7398 51.547 26.0779 51.547 23.8809V15.2898H55.0679V23.402C55.0679 24.7541 55.3684 25.7681 55.9693 26.4441C56.589 27.1014 57.4622 27.43 58.5889 27.43C59.847 27.43 60.8423 27.045 61.5746 26.2751C62.3257 25.4864 62.7013 24.3597 62.7013 22.895V15.2898H66.2222Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        d=\"M77.0854 30.2749C77.6863 30.1059 78.1933 29.8524 78.6064 29.5144L77.6206 27.0075C77.0948 27.4206 76.4375 27.6271 75.6489 27.6271C74.9728 27.6271 74.4564 27.4394 74.0996 27.0638C73.7428 26.6695 73.5645 26.1061 73.5645 25.3737V18.2192H77.5924V15.4025H73.5645V11.9661H70.0435V15.4025H67.5648V18.2192H70.0435V25.4582C70.0435 27.1107 70.4942 28.3689 71.3956 29.2327C72.2969 30.0965 73.5739 30.5284 75.2263 30.5284C75.8836 30.5284 76.5033 30.4439 77.0854 30.2749Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M89.7577 29.5425C90.9782 30.1998 92.3491 30.5284 93.8701 30.5284C95.4099 30.5284 96.7901 30.1998 98.0107 29.5425C99.2313 28.8853 100.18 27.9745 100.856 26.8103C101.55 25.6273 101.898 24.294 101.898 22.8105C101.898 21.327 101.55 20.0032 100.856 18.8389C100.18 17.6746 99.2313 16.7639 98.0107 16.1067C96.7901 15.4494 95.4099 15.1208 93.8701 15.1208C92.3491 15.1208 90.9782 15.4494 89.7577 16.1067C88.5371 16.7639 87.5794 17.6746 86.8846 18.8389C86.2086 20.0032 85.8705 21.327 85.8705 22.8105C85.8705 24.294 86.2086 25.6273 86.8846 26.8103C87.5794 27.9745 88.5371 28.8853 89.7577 29.5425ZM97.0812 26.2188C96.2362 27.0826 95.1658 27.5145 93.8701 27.5145C92.5744 27.5145 91.504 27.0826 90.659 26.2188C89.8328 25.355 89.4196 24.2189 89.4196 22.8105C89.4196 21.4021 89.8328 20.2661 90.659 19.4023C91.504 18.5385 92.5744 18.1065 93.8701 18.1065C95.1658 18.1065 96.2362 18.5385 97.0812 19.4023C97.9262 20.2661 98.3487 21.4021 98.3487 22.8105C98.3487 24.2189 97.9262 25.355 97.0812 26.2188Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        d=\"M112.532 15.1208C114.428 15.1208 115.949 15.6748 117.095 16.7827C118.24 17.8906 118.813 19.5337 118.813 21.712V30.3312H115.292V22.1627C115.292 20.8482 114.982 19.8623 114.363 19.2051C113.743 18.5291 112.86 18.191 111.715 18.191C110.419 18.191 109.396 18.5854 108.645 19.3741C107.893 20.144 107.518 21.2613 107.518 22.726V30.3312H103.997V15.2898H107.349V17.2334C107.931 16.5386 108.663 16.0128 109.546 15.656C110.429 15.2992 111.424 15.1208 112.532 15.1208Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        d=\"M146.951 17.2615L146.979 30.3312H150.443L150.415 10.614H147.401L139.711 23.6837L131.881 10.614H128.867V30.3312H132.36V17.4305L138.838 28.0778H140.472L146.951 17.2615Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M159.91 15.1208C162.126 15.1208 163.816 15.656 164.98 16.7263C166.163 17.7779 166.754 19.3741 166.754 21.5148V30.3312H163.431V28.5003C162.999 29.1576 162.379 29.6646 161.572 30.0214C160.783 30.3594 159.825 30.5284 158.699 30.5284C157.572 30.5284 156.586 30.3406 155.741 29.965C154.896 29.5707 154.239 29.0355 153.769 28.3595C153.319 27.6647 153.093 26.8854 153.093 26.0216C153.093 24.6696 153.591 23.5898 154.586 22.7823C155.6 21.9561 157.187 21.543 159.346 21.543H163.233V21.3176C163.233 20.2661 162.914 19.4586 162.276 18.8952C161.656 18.3319 160.727 18.0502 159.487 18.0502C158.642 18.0502 157.807 18.1817 156.98 18.4446C156.173 18.7075 155.487 19.0736 154.924 19.5431L153.544 16.9798C154.333 16.3789 155.281 15.9189 156.389 15.5996C157.497 15.2804 158.67 15.1208 159.91 15.1208ZM159.431 27.9652C160.313 27.9652 161.093 27.768 161.769 27.3736C162.464 26.9605 162.952 26.3784 163.233 25.6273V23.8809H159.6C157.572 23.8809 156.558 24.5475 156.558 25.8808C156.558 26.5192 156.811 27.0262 157.318 27.4018C157.825 27.7774 158.53 27.9652 159.431 27.9652Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M182.258 16.0785C181.113 15.44 179.808 15.1208 178.343 15.1208C177.31 15.1208 176.362 15.2992 175.498 15.656C175.108 15.8209 174.745 16.024 174.411 16.2652C174.016 16.55 173.357 16.2946 173.357 15.8076C173.357 15.5216 173.126 15.2898 172.84 15.2898H171.048C170.472 15.2898 170.006 15.7563 170.006 16.3318V34.4992C170.006 34.6705 170.09 34.8309 170.231 34.9282L171.798 36.0087L173.308 34.9287C173.445 34.8309 173.526 34.6731 173.526 34.5049V31.2737C173.526 30.3115 174.874 29.7349 175.771 30.0831C176.535 30.38 177.393 30.5284 178.343 30.5284C179.808 30.5284 181.113 30.2092 182.258 29.5707C183.423 28.9322 184.333 28.0309 184.991 26.8666C185.648 25.6836 185.976 24.3316 185.976 22.8105C185.976 21.2895 185.648 19.9468 184.991 18.7826C184.333 17.6183 183.423 16.717 182.258 16.0785ZM181.132 26.2188C180.305 27.0826 179.244 27.5145 177.949 27.5145C177.104 27.5145 176.343 27.3267 175.667 26.9511C174.991 26.5568 174.456 26.0028 174.062 25.2892C173.667 24.5757 173.47 23.7494 173.47 22.8105C173.47 21.8716 173.667 21.0454 174.062 20.3318C174.456 19.6182 174.991 19.0736 175.667 18.6981C176.343 18.3037 177.104 18.1065 177.949 18.1065C179.244 18.1065 180.305 18.5385 181.132 19.4023C181.977 20.2661 182.399 21.4021 182.399 22.8105C182.399 24.2189 181.977 25.355 181.132 26.2188Z\"\r\n        fill=\"black\"\r\n      />\r\n      <path\r\n        fillRule=\"evenodd\"\r\n        clipRule=\"evenodd\"\r\n        d=\"M167.255 33.3283C167.071 32.9975 166.722 32.7923 166.344 32.7923H162.651C162.054 32.7923 161.509 33.1326 161.247 33.6691L158.068 40.1753C157.56 41.2136 158.316 42.4246 159.472 42.4246H183.993C185.139 42.4246 185.895 41.2324 185.407 40.1957L182.343 33.6895C182.085 33.1419 181.534 32.7923 180.929 32.7923H177.634C177.046 32.7923 176.508 33.1223 176.241 33.6462L175.667 34.7729H179.742C180.134 34.7729 180.492 34.9928 180.67 35.3422L181.615 37.1981L176.326 36.3128C175.201 36.1244 174.046 36.2399 172.981 36.6474L169.71 37.8979C168.144 38.4968 166.388 38.337 164.956 37.465L162.421 35.9222L162.564 35.6367C162.829 35.1073 163.37 34.7729 163.962 34.7729H168.057L167.255 33.3283ZM161.979 36.8068L160.647 39.4699C160.473 39.8163 160.725 40.224 161.112 40.224H171.709H182.305C182.694 40.224 182.946 39.8132 182.77 39.4666L182.171 38.2906L176.164 37.2849C175.212 37.1255 174.234 37.2232 173.333 37.568L170.062 38.8185C168.211 39.5263 166.136 39.3374 164.443 38.3069L161.979 36.8068Z\"\r\n        fill=\"black\"\r\n      />\r\n    </g>\r\n    <defs>\r\n      <filter\r\n        id=\"filter0_i\"\r\n        x=\"1.82538\"\r\n        y=\"0\"\r\n        width=\"184.151\"\r\n        height=\"46.4246\"\r\n        filterUnits=\"userSpaceOnUse\"\r\n        colorInterpolationFilters=\"sRGB\"\r\n      >\r\n        <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\" />\r\n        <feBlend\r\n          mode=\"normal\"\r\n          in=\"SourceGraphic\"\r\n          in2=\"BackgroundImageFix\"\r\n          result=\"shape\"\r\n        />\r\n        <feColorMatrix\r\n          in=\"SourceAlpha\"\r\n          type=\"matrix\"\r\n          values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\r\n          result=\"hardAlpha\"\r\n        />\r\n        <feOffset dy=\"4\" />\r\n        <feGaussianBlur stdDeviation=\"2\" />\r\n        <feComposite in2=\"hardAlpha\" operator=\"arithmetic\" k2=\"-1\" k3=\"1\" />\r\n        <feColorMatrix\r\n          type=\"matrix\"\r\n          values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0\"\r\n        />\r\n        <feBlend mode=\"normal\" in2=\"shape\" result=\"effect1_innerShadow\" />\r\n      </filter>\r\n      <linearGradient\r\n        id=\"paint0_linear\"\r\n        x1=\"86.0702\"\r\n        y1=\"0\"\r\n        x2=\"86.0702\"\r\n        y2=\"13\"\r\n        gradientUnits=\"userSpaceOnUse\"\r\n      >\r\n        <stop stopColor=\"#932995\" stopOpacity=\"0.72\" />\r\n        <stop offset=\"1\" stopColor=\"#00FF85\" stopOpacity=\"0.72\" />\r\n      </linearGradient>\r\n      <linearGradient\r\n        id=\"paint1_linear\"\r\n        x1=\"161.285\"\r\n        y1=\"38.2856\"\r\n        x2=\"176.285\"\r\n        y2=\"36.2856\"\r\n        gradientUnits=\"userSpaceOnUse\"\r\n      >\r\n        <stop stopColor=\"#FF9900\" />\r\n        <stop offset=\"0.34375\" stopColor=\"#FF00E5\" />\r\n        <stop offset=\"0.661458\" stopColor=\"#5200FF\" />\r\n        <stop offset=\"1\" stopColor=\"#FF2E00\" />\r\n      </linearGradient>\r\n      <linearGradient\r\n        id=\"paint2_linear\"\r\n        x1=\"162.785\"\r\n        y1=\"36.2856\"\r\n        x2=\"184.285\"\r\n        y2=\"44.7856\"\r\n        gradientUnits=\"userSpaceOnUse\"\r\n      >\r\n        <stop stopColor=\"#FF9900\" />\r\n        <stop offset=\"0.34375\" stopColor=\"#D44CBE\" />\r\n        <stop offset=\"0.791667\" stopColor=\"#00FF85\" stopOpacity=\"0.72\" />\r\n        <stop offset=\"1\" stopColor=\"#00FF85\" stopOpacity=\"0.72\" />\r\n      </linearGradient>\r\n    </defs>\r\n  </SvgBase>\r\n);\r\n","import { Logo as LogoIcon } from 'src/icons/Logo';\r\nimport Control from 'src/components/Control';\r\nimport Card from '@material-ui/core/Paper';\r\nimport styled from 'styled-components';\r\nimport { Divider, Link, Typography } from '@material-ui/core';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\n\r\nconst StyledCard = styled(Card)`\r\n  border: 0 0 0 0;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  transition: margin-bottom 0.6, width 0.6s;\r\n\r\n  &:hover {\r\n    margin-bottom: 0;\r\n    width: 400px;\r\n    transition: margin-bottom 0.5s, width 0.5s;\r\n  }\r\n  &:not(:hover) {\r\n    margin-bottom: -150px;\r\n    width: 220px;\r\n    transition: margin-bottom 0.2s, width 0.2s;\r\n  }\r\n`;\r\n\r\nconst TextBody = styled(Typography)`\r\n  padding: 2% 6% 1% 6%;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst TextItem = styled(Typography).attrs(({ variant }) => ({\r\n  variant: variant || 'body1',\r\n}))`\r\n  display: flex;\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst Caption = ({ children }) => (\r\n  <div>\r\n    <Divider />\r\n    <TextItem variant=\"h6\">{children}</TextItem>\r\n    <Divider />\r\n  </div>\r\n);\r\n\r\nconst StyledLogoWrapper = styled.div`\r\n  margin-top: 5px;\r\n`;\r\n\r\nexport const Logo = () => (\r\n  <Control position=\"bottom-left\" margin=\"no-bottom\">\r\n    <StyledCard>\r\n      <StyledLogoWrapper>\r\n        <LogoIcon />\r\n      </StyledLogoWrapper>\r\n      <TextBody>\r\n        <Caption>Карта воздушного и шумового загрязнения</Caption>\r\n        <TextItem>\r\n          <Link href=\"https://aqicn.org/api/\">\r\n            Данные о загрязнении воздуха\r\n          </Link>\r\n        </TextItem>\r\n        <TextItem>\r\n          <Link href=\"https://data.noise-planet.org/noisecapture/\">\r\n            Данные о шуме\r\n          </Link>\r\n        </TextItem>\r\n        <TextItem>\r\n          <StyledLink href=\"https://github.com/polution-map\">\r\n            Pollution Map &nbsp; <GitHubIcon />\r\n          </StyledLink>\r\n        </TextItem>\r\n      </TextBody>\r\n    </StyledCard>\r\n  </Control>\r\n);\r\n","import ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\n\r\nexport const Button3D = () => {\r\n  const { mapStore } = useStore();\r\n  return (\r\n    <ToggleButtonGroup aria-label=\"3D\">\r\n      <ToggleButton\r\n        style={{ border: 0, color: mapStore.is3D ? 'black' : 'lightgray' }}\r\n        variant=\"outlined\"\r\n        selected={mapStore.is3D}\r\n        onClick={() => mapStore.toggleIs3D()}\r\n      >\r\n        3D\r\n      </ToggleButton>\r\n    </ToggleButtonGroup>\r\n  );\r\n};\r\n","import ToggleButton from '@material-ui/lab/ToggleButton';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { ModeIcon } from 'src/components/modes/ModeIcon';\r\n\r\nexport const ModeButton = observer(({ mode, onToggle }) => {\r\n  const { isActive, name } = mode;\r\n\r\n  return (\r\n    <ToggleButton\r\n      style={{ borderRadius: 0 }}\r\n      variant=\"outlined\"\r\n      size=\"small\"\r\n      selected={isActive}\r\n      onClick={() => {\r\n        onToggle(mode);\r\n      }}\r\n    >\r\n      <ModeIcon\r\n        color={isActive ? 'black' : 'lightgray'}\r\n        opacity={isActive ? 1 : 0.8}\r\n        name={name}\r\n      />\r\n    </ToggleButton>\r\n  );\r\n});\r\n","import { withStyles } from '@material-ui/core';\r\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { ModeButton } from 'src/components/modes/ModeButton';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\n\r\nconst StyledToggleButtonGroup = withStyles((theme) => ({\r\n  grouped: {\r\n    margin: theme.spacing(0.5),\r\n  },\r\n}))(ToggleButtonGroup);\r\n\r\nexport const ModesControl = observer(({ position }) => {\r\n  const { modesStore } = useStore();\r\n\r\n  const onModeToggle = (mode) => {\r\n    modesStore.toggleMode(mode);\r\n  };\r\n\r\n  return (\r\n    <StyledToggleButtonGroup variant=\"contined\" aria-label=\"mode selection\">\r\n      {modesStore.modes.map((m) => (\r\n        <ModeButton key={m.name} mode={m} onToggle={onModeToggle} />\r\n      ))}\r\n    </StyledToggleButtonGroup>\r\n  );\r\n});\r\n\r\nModesControl.defaultProps = {\r\n  position: 'topright',\r\n};\r\n","/* eslint-disable no-nested-ternary */\r\nimport Fab from '@material-ui/core/Fab';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ArrowBackIosRoundedIcon from '@material-ui/icons/ArrowBackIosRounded';\r\nimport { useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport Control from 'src/components/Control.tsx';\r\n\r\nconst LightTooltip = withStyles((theme) => ({\r\n  tooltip: {\r\n    backgroundColor: theme.palette.common.white,\r\n    color: 'rgba(0, 0, 0, 0.87)',\r\n    boxShadow: theme.shadows[1],\r\n    fontSize: 12,\r\n  },\r\n}))(Tooltip);\r\n\r\nconst StyledWrapper = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n  ${({ orientation }) =>\r\n    orientation === 'horizontal' && `align-items: flex-end`};\r\n\r\n  flex-direction: ${({ orientation }) =>\r\n    orientation === 'vertical'\r\n      ? 'column'\r\n      : orientation === 'horizontal'\r\n      ? 'row'\r\n      : null};\r\n`;\r\nconst ChildrenWrapper = styled.div``;\r\nconst StyledButton = styled.div`\r\n  align-self: 'flex-end';\r\n  border-radius: 25px;\r\n  cursor: pointer;\r\n  box-shadow: 2px 2px 100px rgba(0, 0, 0, 0.5);\r\n`;\r\nconst StyledArrowBackIosRoundedIcon = styled(ArrowBackIosRoundedIcon).attrs(\r\n  ({ orientation, isActive }) => ({\r\n    orientation: orientation || 'horizontal',\r\n    isActive: isActive || false,\r\n  })\r\n)`\r\n  transform: ${({ orientation, isActive }) =>\r\n    orientation === 'vertical'\r\n      ? isActive\r\n        ? 'rotate(90deg)'\r\n        : 'rotate(-90deg)'\r\n      : orientation === 'horizontal'\r\n      ? isActive\r\n        ? 'rotate(0deg)'\r\n        : 'rotate(180deg)'\r\n      : null};\r\n`;\r\n\r\nexport function ArrowControl({\r\n  children,\r\n  title,\r\n  titlePlacemet,\r\n  orientation,\r\n  onToggle,\r\n  isActive,\r\n  position,\r\n}) {\r\n  const [isButtonActive, setButtonActive] = useState(isActive);\r\n  return (\r\n    <Control position={position}>\r\n      <StyledWrapper orientation={orientation}>\r\n        <ChildrenWrapper>{children}</ChildrenWrapper>\r\n        <LightTooltip title={title} placement={titlePlacemet}>\r\n          <StyledButton>\r\n            <Fab\r\n              onClick={() => {\r\n                setButtonActive(!isButtonActive);\r\n                if (onToggle) onToggle(!isButtonActive);\r\n              }}\r\n            >\r\n              <StyledArrowBackIosRoundedIcon\r\n                orientation={orientation}\r\n                isActive={isButtonActive}\r\n              />\r\n            </Fab>\r\n          </StyledButton>\r\n        </LightTooltip>\r\n      </StyledWrapper>\r\n    </Control>\r\n  );\r\n}\r\n","/* eslint-disable no-nested-ternary */\r\nimport Slider from '@material-ui/core/Slider';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport styled from 'styled-components';\r\n\r\nconst StyledRangesControl = styled.div.attrs(({ orientation, size }) => ({\r\n  orientation: orientation || 'horizontal',\r\n}))`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: ${({ orientation, size }) =>\r\n    orientation === 'vertical'\r\n      ? size\r\n      : orientation === 'horizontal'\r\n      ? '100%'\r\n      : null};\r\n  width: ${({ orientation, size }) =>\r\n    orientation === 'vertical'\r\n      ? '100%'\r\n      : orientation === 'horizontal'\r\n      ? size\r\n      : null};\r\n`;\r\n\r\nconst StyledTypography = styled(Typography)`\r\n  color: #ffffff;\r\n  width: 30px;\r\n  height: 30px;\r\n`;\r\n\r\nconst muiTheme = createMuiTheme({\r\n  overrides: {\r\n    MuiSlider: {\r\n      rail: {\r\n        color: '#d9d9d9',\r\n      },\r\n      cssLabel: {\r\n        color: '#fff',\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\nexport function RangeSlider({ range, onRangeChange, orientation }) {\r\n  return (\r\n    <StyledRangesControl orientation={orientation} size=\"60vh\">\r\n      <ThemeProvider theme={muiTheme}>\r\n        <StyledTypography>{range.name}</StyledTypography>\r\n        <Slider\r\n          orientation={orientation}\r\n          defaultValue={range.values}\r\n          valueLabelFormat={(v) => range.viewFn(range.domainFn(v))}\r\n          valueLabelDisplay=\"auto\"\r\n          onChange={(_, v) => onRangeChange(range, v)}\r\n        />\r\n      </ThemeProvider>\r\n    </StyledRangesControl>\r\n  );\r\n}\r\n","/* eslint-disable no-nested-ternary */\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useState } from 'react';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { ArrowControl } from 'src/components/ranges/ArrowControl';\r\nimport { RangeSlider } from 'src/components/ranges/RangeSlider';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\nimport styled from 'styled-components';\r\nimport { useDebouncedCallback } from 'use-debounce/lib';\r\n\r\nconst StyledRangesControl = styled.div`\r\n  ${({ orientation }) => orientation === 'horizontal' && `margin-right: 2vh`};\r\n  ${({ orientation }) => orientation === 'vertical' && `margin-bottom: 2vh`};\r\n\r\n  display: flex;\r\n  flex-direction: ${({ orientation }) =>\r\n    orientation === 'vertical'\r\n      ? 'row'\r\n      : orientation === 'horizontal'\r\n      ? 'column'\r\n      : null};\r\n  &&.sweep-enter {\r\n    opacity: 0;\r\n    transform: scale(0.9);\r\n    transform: ${({ orientation }) =>\r\n      orientation === 'vertical'\r\n        ? 'translateY(100%)'\r\n        : orientation === 'horizontal'\r\n        ? 'translateX(100%)'\r\n        : null};\r\n    transition: opacity 400ms, transform 200ms;\r\n  }\r\n  &&.sweep-enter-active {\r\n    opacity: 1;\r\n    transform: ${({ orientation }) =>\r\n      orientation === 'vertical'\r\n        ? 'translateY(0)'\r\n        : orientation === 'horizontal'\r\n        ? 'translateX(0)'\r\n        : null};\r\n    transition: opacity 600ms, transform 200ms;\r\n  }\r\n  &&.sweep-exit {\r\n    transform: ${({ orientation }) =>\r\n      orientation === 'vertical'\r\n        ? 'translateY(0)'\r\n        : orientation === 'horizontal'\r\n        ? 'translateX(0)'\r\n        : null};\r\n    opacity: 1;\r\n  }\r\n  &&.sweep-exit-active {\r\n    opacity: 0;\r\n    transform: scale(0.9);\r\n    transform: ${({ orientation }) =>\r\n      orientation === 'vertical'\r\n        ? 'translateY(100%)'\r\n        : orientation === 'horizontal'\r\n        ? 'translateX(100%)'\r\n        : null};\r\n    transition: opacity 400ms, transform 400ms;\r\n  }\r\n`;\r\nexport const RangesControl = observer(({ orientation }) => {\r\n  const { rangesStore } = useStore();\r\n  const [isVisiable, setButtonActive] = useState(false);\r\n\r\n  const onRangeChange = useDebouncedCallback((range, values) => {\r\n    rangesStore.setRangeValues(range, values);\r\n  }, 300);\r\n  return (\r\n    <ArrowControl\r\n      title=\"Выбор диапазонов\"\r\n      titlePlacemet={\r\n        orientation === 'vertical'\r\n          ? 'left'\r\n          : orientation === 'horizontal'\r\n          ? 'top-end'\r\n          : null\r\n      }\r\n      orientation={orientation}\r\n      isActive={isVisiable}\r\n      onToggle={setButtonActive}\r\n      position=\"bottom-right\"\r\n    >\r\n      <CSSTransition\r\n        classNames=\"sweep\"\r\n        in={isVisiable}\r\n        timeout={300}\r\n        unmountOnExit\r\n      >\r\n        <StyledRangesControl orientation={orientation}>\r\n          {rangesStore.Ranges.map((r) => (\r\n            <RangeSlider\r\n              key={`slider${r.name}`}\r\n              range={r}\r\n              onRangeChange={onRangeChange}\r\n              orientation={orientation}\r\n            />\r\n          ))}\r\n        </StyledRangesControl>\r\n      </CSSTransition>\r\n    </ArrowControl>\r\n  );\r\n});\r\n","import { useCallback, useEffect } from 'react';\r\nimport { LinearInterpolator } from 'react-map-gl';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\n\r\nconst transitionInterpolator = new LinearInterpolator([\r\n  'bearing',\r\n  // added to stop the transition if one of this properties changes\r\n  'zoom',\r\n  'latitude',\r\n  'longitude',\r\n]);\r\n\r\n// auto rotate camera when in 3d after timeout\r\nexport const useCameraRotation = (afterTimeout) => {\r\n  const { mapStore } = useStore();\r\n\r\n  // rotation will continue while in 3d and user is not interacting\r\n  const rotateCamera = useCallback(() => {\r\n    if (mapStore.is3D)\r\n      mapStore.changeViewState((prevViewState) => ({\r\n        ...prevViewState,\r\n        bearing: prevViewState.bearing + 15,\r\n        transitionDuration: 1500,\r\n        transitionInterpolator,\r\n        onTransitionEnd: () => (mapStore.is3D ? rotateCamera() : () => {}),\r\n      }));\r\n  }, [mapStore.is3D]);\r\n\r\n  // after timeout start rotation\r\n  useEffect(() => {\r\n    const timeoutId = setTimeout(() => {\r\n      if (mapStore.is3D) {\r\n        rotateCamera();\r\n      }\r\n    }, afterTimeout);\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [mapStore.is3D, afterTimeout, mapStore.viewState]);\r\n};\r\n","import { MapboxLayer } from '@deck.gl/mapbox';\r\nimport GL from '@luma.gl/constants';\r\nimport DeckGL, { MapView } from 'deck.gl';\r\nimport { observer } from 'mobx-react-lite';\r\nimport { useCallback, useRef, useState } from 'react';\r\nimport { CitySelection } from 'src/components/city-selection/CitySelection';\r\nimport { MapContext, StaticMap } from 'react-map-gl';\r\nimport { PropertiesPopup } from 'src/components/popups/PropertiesPopup';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\nimport { useDebouncedCallback } from 'use-debounce/lib';\r\nimport { ButtonGroups } from './ButtonGroups';\r\nimport { Logo } from './Logo';\r\nimport { Button3D } from './map-modes/Button3D';\r\nimport { ModesControl } from './modes/ModesControl';\r\nimport { RangesControl } from './ranges/RangesControl';\r\nimport { useCameraRotation } from './transitions/useCameraRotation';\r\nimport { Preloader } from './preloader/Preloader';\r\n\r\n// Set your mapbox access token here\r\nconst MAPBOX_ACCESS_TOKEN = process.env.REACT_APP_MAPBOX_ACCES_TOKEN;\r\n\r\n// TODO: store для текущих диапазонов, цветовых гамм, отображение цветовой палитры\r\n\r\nconst view = new MapView({\r\n  repeat: true,\r\n  nearZMultiplier: 0.1,\r\n  farZMultiplier: 1.01,\r\n  orthographic: false,\r\n});\r\n\r\nexport const PolutionMap = observer(() => {\r\n  // DeckGL and mapbox will both draw into this WebGL context\r\n  // layering stuff\r\n\r\n  const [glContext, setGLContext] = useState(null);\r\n  const deckRef = useRef(null);\r\n  const mapRef = useRef(null);\r\n\r\n  const { layersStore, isolinePickInfoStore, mapStore } = useStore();\r\n\r\n  const onMapLoad = useCallback(() => {\r\n    const map = mapRef.current.getMap();\r\n    const { deck } = deckRef.current;\r\n\r\n    // You must initialize an empty deck.gl layer to prevent flashing\r\n    map.addLayer(\r\n      // This id has to match the id of the deck.gl layer\r\n      new MapboxLayer({ id: 'isolines', deck }),\r\n      // Optionally define id from Mapbox layer stack under which to add deck layer\r\n      'land-structure-polygon'\r\n    );\r\n    mapStore.setBaseMapInitialized();\r\n  }, []);\r\n\r\n  const onViewStateChange = useDebouncedCallback(({ viewState }) => {\r\n    mapStore.updateViewState(viewState);\r\n  }, 100);\r\n\r\n  useCameraRotation(9000);\r\n  return (\r\n    <div>\r\n      {!mapStore.isBaseMapInitialized && <Preloader />}\r\n\r\n      <DeckGL\r\n        onViewStateChange={onViewStateChange}\r\n        ref={deckRef}\r\n        view={view}\r\n        style={{ opacity: `${mapStore.isBaseMapInitialized ? '1' : '0'}` }}\r\n        initialViewState={mapStore.viewState}\r\n        onWebGLInitialized={setGLContext}\r\n        width=\"100vw\"\r\n        height=\"100vh\"\r\n        gl={glContext}\r\n        layers={layersStore.layers}\r\n        glOptions={{\r\n          /* To render vector tile polygons correctly */\r\n          stencil: true,\r\n        }}\r\n        parameters={{\r\n          blendFunc: [\r\n            GL.SRC_ALPHA,\r\n            GL.ONE_MINUS_SRC_ALPHA,\r\n            GL.ONE,\r\n            GL.ONE_MINUS_SRC_ALPHA,\r\n          ],\r\n          blendEquation: GL.FUNC_ADD,\r\n        }}\r\n        controller={{\r\n          scrollZoom: {\r\n            speed: 0.01,\r\n            smooth: true,\r\n          },\r\n          inertia: true,\r\n        }}\r\n        getCursor={({ isDragging }) => {\r\n          if (isDragging) isolinePickInfoStore.PickInfo = null;\r\n        }}\r\n        // provides context to a static map\r\n        // this allows to use react-map-gl controls\r\n        // and aslo out custom controls based on Control.tsx\r\n        ContextProvider={MapContext.Provider}\r\n      >\r\n        {glContext && (\r\n          <StaticMap\r\n            reuseMaps\r\n            asyncRender\r\n            ref={mapRef}\r\n            gl={glContext}\r\n            onLoad={onMapLoad}\r\n            // mapStyle=\"mapbox://styles/vfqww/ckq55qrrp0eom17n2qkmkcjd2\"\r\n            mapStyle=\"mapbox://styles/vfqww/ckq8cu7ea0nz417pehvywpm7t\"\r\n            // mapStyle=\"mapbox://styles/vfqww/ckqjlt39v37lz17qsi1jfcxq4\"\r\n            mapboxApiAccessToken={MAPBOX_ACCESS_TOKEN}\r\n          />\r\n        )}\r\n        <Logo />\r\n        <ButtonGroups\r\n          modeSelection={<ModesControl />}\r\n          additionalModeSelection={<Button3D />}\r\n        />\r\n        <CitySelection position=\"top-left\" />\r\n        <RangesControl orientation=\"horizontal\" />\r\n\r\n        {isolinePickInfoStore.PickInfo?.picked && (\r\n          <PropertiesPopup\r\n            x={isolinePickInfoStore.PickInfo.x}\r\n            y={isolinePickInfoStore.PickInfo.y}\r\n            properties={isolinePickInfoStore.PickInfo.object.properties}\r\n          />\r\n        )}\r\n      </DeckGL>\r\n    </div>\r\n  );\r\n});\r\n","import { PolutionMap } from 'src/components/PolutionMap';\r\n\r\nexport const MapPage = () => <PolutionMap />;\r\n","import { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled from 'styled-components';\n\nconst StWrapper = styled.div``;\nconst StText = styled.h1`\n  transform: rotate(294deg);\n  margin-top: 45vh;\n  opacity: 0.1;\n  display: flex;\n  justify-content: center;\n`;\n\nconst MapViewingControl = () => {\n  const [container, setContainer] = useState();\n\n  return (\n    <StWrapper>\n      <StText>development</StText>\n    </StWrapper>\n  );\n};\n\nexport default observer(MapViewingControl);\n","import MapViewingControl from 'src/components/map-viewing/MapViewingControl';\n\nexport const MapViewingPage = () => <MapViewingControl />;\n","import Logout from '@mui/icons-material/Logout';\nimport Settings from '@mui/icons-material/Settings';\nimport { Slide } from '@mui/material';\nimport Avatar from '@mui/material/Avatar';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport IconButton from '@mui/material/IconButton';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport Tooltip from '@mui/material/Tooltip';\nimport { observer } from 'mobx-react-lite';\nimport { forwardRef, useState } from 'react';\n\n// eslint-disable-next-line react/display-name\nconst Transition = forwardRef((props, ref) => (\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  <Slide direction=\"up\" ref={ref} {...props} />\n));\n\nconst UserInfoComponent = ({ userName, email, logoutUser }) => {\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [openDialog, setOpenDialog] = useState(false);\n  const open = Boolean(anchorEl);\n\n  const handleCloseDialog = (allDevicesLogout) => {\n    setOpenDialog(false);\n    logoutUser(allDevicesLogout);\n  };\n  return (\n    <>\n      <Tooltip title=\"Account settings\">\n        <IconButton\n          onClick={(event) => {\n            setAnchorEl(event.currentTarget);\n          }}\n          size=\"small\"\n          aria-controls={open ? 'account-menu' : undefined}\n          aria-haspopup=\"true\"\n          aria-expanded={open ? 'true' : undefined}\n        >\n          <Avatar sx={{ width: 42, height: 42 }}>\n            {userName?.charAt(0) || email?.charAt(0) || 'U'}\n          </Avatar>\n        </IconButton>\n      </Tooltip>\n      <Menu\n        anchorEl={anchorEl}\n        open={open}\n        onClose={() => {\n          setAnchorEl(null);\n        }}\n        onClick={() => {\n          setAnchorEl(null);\n        }}\n        PaperProps={{\n          elevation: 0,\n          sx: {\n            overflow: 'visible',\n            filter: 'drop-shadow(0px 2px 8px rgba(0,0,0,0.32))',\n            mt: 1.5,\n            '& .MuiAvatar-root': {\n              width: 32,\n              height: 32,\n              ml: -0.5,\n              mr: 1,\n            },\n            '&:before': {\n              content: '\"\"',\n              display: 'block',\n              position: 'absolute',\n              top: 0,\n              left: 14,\n              width: 10,\n              height: 10,\n              bgcolor: 'background.paper',\n              transform: 'translateY(-50%) rotate(45deg)',\n              zIndex: 0,\n            },\n          },\n        }}\n        transformOrigin={{ horizontal: 'left', vertical: 'top' }}\n        anchorOrigin={{ horizontal: 'left', vertical: 'bottom' }}\n      >\n        <MenuItem>\n          <Avatar /> {userName || email || 'User'}\n        </MenuItem>\n        <MenuItem>\n          <ListItemIcon>\n            <Settings fontSize=\"small\" />\n          </ListItemIcon>\n          Settings\n        </MenuItem>\n        <MenuItem\n          onClick={() => {\n            setOpenDialog(true);\n          }}\n        >\n          <ListItemIcon>\n            <Logout fontSize=\"small\" />\n          </ListItemIcon>\n          Logout\n        </MenuItem>\n      </Menu>\n      <Dialog\n        TransitionComponent={Transition}\n        open={openDialog}\n        onClose={handleCloseDialog}\n        aria-labelledby=\"alert-dialog-title\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          Выйти из всех устройств?\n        </DialogTitle>\n        <DialogActions>\n          <Button\n            onClick={() => {\n              setOpenDialog(false);\n            }}\n          >\n            отмена\n          </Button>\n          <Button\n            onClick={() => {\n              handleCloseDialog(false);\n            }}\n          >\n            нет\n          </Button>\n          <Button\n            onClick={() => {\n              handleCloseDialog(true);\n            }}\n            autoFocus\n          >\n            да\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default observer(UserInfoComponent);\n","import AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport { CardActionArea } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport TextField from '@mui/material/TextField';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport useInput from '../hooks/useInput';\n\nconst StCard = styled(Card)`\n  height: 200px;\n  max-width: 200px;\n  border-radius: 6px;\n  border: 1px solid #dadce0;\n  margin-top: 10px;\n  margin-right: 10px;\n  display: flex;\n  align-content: 'space-around';\n  justify-content: 'space-around';\n`;\nconst StAddCircleOutlineIcon = styled(AddCircleOutlineIcon)`\n  font-size: 80px !important;\n`;\n\nconst AddCard = ({ addMap }) => {\n  const [open, setOpen] = useState(false);\n  const name = useInput('new map', {\n    minLength: 0,\n    maxLength: 100,\n  });\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return (\n    <>\n      <StCard>\n        <CardActionArea\n          onClick={() => {\n            setOpen(true);\n          }}\n        >\n          <StAddCircleOutlineIcon />\n        </CardActionArea>\n      </StCard>\n      <Dialog open={open} onClose={handleClose}>\n        <DialogTitle>Создание новой карты</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            value={name.value}\n            error={name.isDirty && !name.inputValid}\n            onChange={(e) => name.onChange(e)}\n            onBlur={(e) => name.onBlur(e)}\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Название карты\"\n            fullWidth\n            variant=\"standard\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Отмена</Button>\n          <Button\n            disabled={!name.inputValid}\n            onClick={() => {\n              addMap(name.value);\n              setOpen(false);\n              name.setValue('new map');\n            }}\n          >\n            Продолжить\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default AddCard;\n","import MapOutlinedIcon from '@mui/icons-material/MapOutlined';\nimport { CardActionArea } from '@mui/material';\nimport Button from '@mui/material/Button';\nimport Card from '@mui/material/Card';\nimport CardContent from '@mui/material/CardContent';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport ListItemIcon from '@mui/material/ListItemIcon';\nimport Menu from '@mui/material/Menu';\nimport MenuItem from '@mui/material/MenuItem';\nimport TextField from '@mui/material/TextField';\nimport Typography from '@mui/material/Typography';\nimport { observer } from 'mobx-react-lite';\nimport { useState } from 'react';\nimport styled from 'styled-components';\nimport useInput from '../hooks/useInput';\nimport AddCard from './AddCard';\n\nconst StArchitectureIcon = styled(MapOutlinedIcon)`\n  font-size: 80px !important;\n  display: block !important;\n  margin-left: auto !important;\n  margin-right: auto !important;\n  padding-top: 35px !important;\n`;\nconst StCard = styled(Card)`\n  flex-grow: 1;\n  max-width: 200px;\n  min-width: 150px;\n  margin-right: 10px;\n  margin-top: 10px;\n  border-radius: 6px;\n  border: 1px solid #dadce0;\n`;\nconst StCardActionArea = styled(CardActionArea)`\n  height: 200px;\n`;\nconst StWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  margin: 10px;\n  cursor: context-menu;\n`;\n\nconst UserMapsComponen = ({\n  maps,\n  handleClick,\n  actions,\n  addMap,\n  updateMap,\n}) => {\n  const [contextMenu, setContextMenu] = useState(null);\n  const [idCard, setIdCard] = useState();\n  const [nameCard, setNamwCard] = useState();\n  const [open, setOpen] = useState(false);\n  const newNameMap = useInput('', {\n    minLength: 0,\n    maxLength: 100,\n  });\n\n  const handleCloseDialog = () => {\n    setOpen(false);\n  };\n\n  const handleContextMenu = (event) => {\n    event.preventDefault();\n    setContextMenu(\n      contextMenu === null\n        ? {\n            mouseX: event.clientX - 2,\n            mouseY: event.clientY - 4,\n          }\n        : null\n    );\n  };\n\n  return (\n    <StWrapper onContextMenu={handleContextMenu}>\n      <AddCard addMap={addMap} />\n      {maps?.map((m) => (\n        <StCard key={m.id}>\n          <StCardActionArea\n            onBlur={() => {\n              setIdCard(m.id);\n              setNamwCard(m.name);\n            }}\n            onClick={() => {\n              handleClick(m.id, 'redactor');\n            }}\n          >\n            <StArchitectureIcon />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"div\">\n                {m.name.length > 10 ? `${m.name.substr(0, 10)}...` : m.name}\n              </Typography>\n            </CardContent>\n          </StCardActionArea>\n          <Menu\n            open={contextMenu !== null}\n            onClose={() => {\n              setContextMenu(null);\n            }}\n            anchorReference=\"anchorPosition\"\n            anchorPosition={\n              contextMenu !== null\n                ? { top: contextMenu.mouseY, left: contextMenu.mouseX }\n                : undefined\n            }\n          >\n            {actions.map((a) => (\n              <MenuItem\n                key={a.operation}\n                onClick={() => {\n                  if (a.operation === 'rename') {\n                    newNameMap.setValue(nameCard);\n                    setOpen(true);\n                  }\n                  handleClick(idCard, a.operation);\n                }}\n              >\n                <ListItemIcon>{a.icon}</ListItemIcon>\n                {a.name}\n              </MenuItem>\n            ))}\n          </Menu>\n        </StCard>\n      ))}\n      <Dialog open={open} onClose={handleCloseDialog}>\n        <DialogTitle>Переименовать</DialogTitle>\n        <DialogContent>\n          <TextField\n            autoFocus\n            value={newNameMap.value}\n            error={newNameMap.isDirty && !newNameMap.inputValid}\n            onChange={(e) => newNameMap.onChange(e)}\n            onBlur={(e) => newNameMap.onBlur(e)}\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Переименовать\"\n            fullWidth\n            variant=\"standard\"\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleCloseDialog}>Отмена</Button>\n          <Button\n            disabled={!newNameMap.inputValid}\n            onClick={() => {\n              updateMap(idCard, newNameMap.value);\n              setOpen(false);\n              handleClick(idCard, 'rename');\n            }}\n          >\n            Продолжить\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </StWrapper>\n  );\n};\n\nexport default observer(UserMapsComponen);\n","import DeleteForeverIcon from '@mui/icons-material/DeleteForever';\nimport DesktopWindowsIcon from '@mui/icons-material/DesktopWindows';\nimport DriveFileRenameOutlineRoundedIcon from '@mui/icons-material/DriveFileRenameOutlineRounded';\nimport HandymanRoundedIcon from '@mui/icons-material/HandymanRounded';\nimport InsertLinkIcon from '@mui/icons-material/InsertLink';\nimport MapOutlinedIcon from '@mui/icons-material/MapOutlined';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Slide from '@mui/material/Slide';\nimport Tooltip from '@mui/material/Tooltip';\nimport { autorun } from 'mobx';\nimport { observer } from 'mobx-react-lite';\nimport { useSnackbar } from 'notistack';\nimport { forwardRef, useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useStore } from 'src/store/RootStoreContext';\nimport styled from 'styled-components';\nimport UserInfoComponent from './UserInfoComponent';\nimport UserMapsComponent from './UserMapsComponent';\n\nconst StWrapper = styled.body`\n  overflow: auto !important;\n`;\nconst StLink = styled(Link)`\n  text-decoration: none;\n  margin-left: 1vh;\n`;\nconst StContentContainer = styled.div`\n  margin-left: 5vh;\n  margin-right: 5vh;\n`;\nconst StHeader = styled.header`\n  border-bottom: 1px solid #dadce0;\n  padding-left: 5vh;\n`;\n\nconst actions = [\n  { icon: <DesktopWindowsIcon />, name: 'View', operation: 'viewing' },\n  {\n    icon: <HandymanRoundedIcon />,\n    name: 'Edit',\n    operation: 'redactor',\n  },\n  {\n    icon: <DriveFileRenameOutlineRoundedIcon />,\n    name: 'Rename',\n    operation: 'rename',\n  },\n  { icon: <InsertLinkIcon />, name: 'Link', operation: 'link' },\n  { icon: <DeleteForeverIcon />, name: 'Delete', operation: 'delete' },\n];\n// eslint-disable-next-line react/display-name\nconst Transition = forwardRef((props, ref) => (\n  // eslint-disable-next-line react/jsx-props-no-spreading\n  <Slide direction=\"up\" ref={ref} {...props} />\n));\n\nconst PersonalAccountControl = () => {\n  const navigate = useNavigate();\n  const { enqueueSnackbar } = useSnackbar();\n  const { userStore } = useStore();\n  const [open, setOpen] = useState(false);\n  const [idMap, setIdMap] = useState();\n\n  const handleClose = () => {\n    userStore.mapDelete(idMap);\n    setOpen(false);\n  };\n\n  useEffect(() => {\n    autorun(() => {\n      if (userStore.message === 'null') return;\n\n      if (userStore.message.indexOf('create') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar('Карта успешно создана', {\n          variant: 'success',\n        });\n      }\n\n      if (userStore.message.indexOf('update') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar('Карта успешно обновлена', {\n          variant: 'success',\n        });\n      }\n      if (userStore.message.indexOf('delete') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar('Карта успешно удалена', {\n          variant: 'success',\n        });\n      }\n    });\n  }, []);\n\n  const logoutUser = (fromAllDevices) => {\n    userStore.logout(fromAllDevices);\n    // eslint-disable-next-line no-unused-expressions\n    fromAllDevices\n      ? enqueueSnackbar('Вы вышли из системы со всех браузеров', {\n          variant: 'success',\n        })\n      : enqueueSnackbar('Вы вышли из системы', {\n          variant: 'success',\n        });\n  };\n\n  useEffect(() => {\n    userStore.getMaps('100', '0');\n  }, []);\n\n  const handleClick = (id, operation) => {\n    setIdMap(id);\n    if (operation === 'delete') {\n      setOpen(true);\n    } else if (operation === 'viewing') {\n      navigate(`/map-viewing/${id}`);\n    } else if (operation === 'redactor') {\n      navigate(`/map-redactor/${id}`);\n    } else if (operation === 'link') {\n      enqueueSnackbar('Ссылка скопирована в буфер обмена', {\n        variant: 'info',\n      });\n      navigator.clipboard.writeText(\n        `${window.location.href.slice(\n          0,\n          window.location.href.indexOf('/person-alaccount')\n        )}/map-viewing/${id}`\n      );\n    }\n  };\n  const addMap = (name) => {\n    userStore.createMaps(name);\n  };\n  const updateMap = (id, name) => {\n    userStore.mapUpdate(id, name);\n  };\n\n  return (\n    <StWrapper>\n      <StHeader>\n        <UserInfoComponent\n          email={userStore.user?.email}\n          userName={userStore.user?.userName}\n          logoutUser={logoutUser}\n        />\n\n        <Tooltip title={<h3>Пример</h3>} placement=\"bottom\">\n          <StLink to=\"/pollutionmap\">\n            <Button variant=\"contained\" startIcon={<MapOutlinedIcon />}>\n              Pollution Map\n            </Button>\n          </StLink>\n        </Tooltip>\n      </StHeader>\n      <StContentContainer>\n        <UserMapsComponent\n          maps={userStore.user.maps}\n          handleClick={handleClick}\n          actions={actions}\n          addMap={addMap}\n          updateMap={updateMap}\n        />\n      </StContentContainer>\n      <Dialog\n        open={open}\n        TransitionComponent={Transition}\n        keepMounted\n        onClose={() => setOpen(false)}\n        aria-describedby=\"alert-dialog-slide-description\"\n      >\n        <DialogTitle>Удалить карту?</DialogTitle>\n        <DialogActions>\n          <Button onClick={() => setOpen(false)}>Нет</Button>\n          <Button color=\"error\" onClick={handleClose}>\n            Да\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </StWrapper>\n  );\n};\n\nexport default observer(PersonalAccountControl);\n","import PersonalAccountControl from 'src/components/personal-account/PersonalAccountControl';\n\nexport const PersonalAccountPage = () => <PersonalAccountControl />;\n","import AlternateEmailIcon from '@mui/icons-material/AlternateEmail';\nimport GoogleIcon from '@mui/icons-material/Google';\nimport PersonRoundedIcon from '@mui/icons-material/PersonRounded';\nimport Box from '@mui/material/Box';\nimport Button from '@mui/material/Button';\nimport Step from '@mui/material/Step';\nimport StepLabel from '@mui/material/StepLabel';\nimport Stepper from '@mui/material/Stepper';\nimport Tooltip from '@mui/material/Tooltip';\nimport { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nconst StWrapper = styled.div`\n  width: 100%;\n  position: relative;\n  top: 35%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst StButton = styled(Button)`\n  margin: 10px !important;\n`;\nconst StLink = styled.a`\n  color: white;\n  text-decoration: none;\n`;\nconst StButtonContainer = styled.div`\n  display: flex;\n`;\nconst steps = [\n  'Зарегистрируйтесь',\n  //   'На указанный электронный адрес поступит письмо со ссылкой для подтверждения почты',\n  'Подтвердите адрес электронной почты',\n  'Авторизируйтесь',\n];\nconst email = [\n  {\n    name: 'Mail',\n    icon: <AlternateEmailIcon />,\n    href: 'https://mail.yandex.ru/?utm_source=main_stripe_big&uid=1619911560#tabs/relevant',\n  },\n  {\n    name: 'Gmail',\n    icon: <GoogleIcon />,\n    href: 'https://accounts.google.com/signin/v2/identifier?passive=1209600&continue=https%3A%2F%2Faccounts.google.com%2Fb%2F0%2FAddMailService&followup=https%3A%2F%2Faccounts.google.com%2Fb%2F0%2FAddMailService&flowName=GlifWebSignIn&flowEntry=ServiceLogin',\n  },\n];\n\nconst RegistrationCompleted = () => {\n  const [open, setOpen] = useState(false);\n  return (\n    <StWrapper>\n      <Box>\n        <Stepper activeStep={1} alternativeLabel>\n          {steps.map((label) => (\n            <Step key={label}>\n              <StepLabel>{label}</StepLabel>\n            </Step>\n          ))}\n        </Stepper>\n      </Box>\n      <StButtonContainer>\n        {email.map((e) => (\n          <StButton key={e.href} variant=\"contained\" startIcon={e.icon}>\n            <StLink href={e.href} target=\"_blank\" rel=\"noopener noreferrer\">\n              {e.name}\n            </StLink>\n          </StButton>\n        ))}\n      </StButtonContainer>\n      <Tooltip title={<h4>Авторизация</h4>} placement=\"bottom\">\n        <Button startIcon={<PersonRoundedIcon />} variant=\"outlined\">\n          <Link\n            to=\"/login\"\n            className=\"styledIcons\"\n            style={{ textDecoration: 'none', color: '#8cbae8' }}\n          >\n            Sing in\n          </Link>\n        </Button>\n      </Tooltip>\n    </StWrapper>\n  );\n};\n\nexport default RegistrationCompleted;\n","import RegistrationCompleted from 'src/components/auth/RegistrationCompleted';\n\nexport const RegistrationCompletedPage = () => <RegistrationCompleted />;\n","import MapOutlinedIcon from '@mui/icons-material/MapOutlined';\nimport PersonAddAlt1RoundedIcon from '@mui/icons-material/PersonAddAlt1Rounded';\nimport LoadingButton from '@mui/lab/LoadingButton';\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Tooltip from '@mui/material/Tooltip';\nimport { autorun } from 'mobx';\nimport { observer } from 'mobx-react-lite';\nimport { useSnackbar } from 'notistack';\nimport { useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Control from 'src/components/Control.tsx';\nimport { useStore } from 'src/store/RootStoreContext';\nimport styled from 'styled-components';\nimport useInput from '../hooks/useInput';\nimport LoginNavigation from './LoginNavigation';\nimport './styledLogin.css';\n\nconst StLink = styled(Link)`\n  text-decoration: none;\n`;\n\nconst SingUp = () => {\n  const { userStore } = useStore();\n  const { enqueueSnackbar } = useSnackbar();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    autorun(() => {\n      if (userStore.message === 'null') return;\n      if (userStore.message === 'registration' && !userStore.isLoading) {\n        userStore.message = 'null';\n        navigate('/registration-completed');\n        enqueueSnackbar('Регистрация прошла успешно', {\n          variant: 'success',\n        });\n      }\n      if (userStore.message.indexOf('is already taken') !== -1) {\n        if (userStore.message.indexOf('Username') !== -1) {\n          userStore.message = 'null';\n          enqueueSnackbar('Nмя пользователя уже занято', {\n            variant: 'warning',\n          });\n        }\n\n        if (userStore.message.indexOf('Email') !== -1) {\n          userStore.message = 'null';\n          enqueueSnackbar('Электронная почта уже занята', {\n            variant: 'warning',\n          });\n        }\n      }\n      if (userStore.message.indexOf('is invalid') !== -1) {\n        userStore.message = 'null';\n        enqueueSnackbar(\n          'Имя пользователя недействительно, может содержать только буквы или цифры',\n          {\n            variant: 'warning',\n          }\n        );\n      }\n    });\n  }, []);\n\n  const login = useInput('', { minLength: 5, maxLength: 100 });\n  const password = useInput('', { isEmpty: true, minLength: 6, maxLength: 60 });\n  const checkPassword = useInput('', {\n    isEmpty: true,\n    minLength: 6,\n    maxLength: 60,\n  });\n  const email = useInput(undefined, { isEmail: false });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (password.value !== checkPassword.value) {\n      enqueueSnackbar('Несоответствие пароля', { variant: 'error' });\n    } else {\n      userStore.registration(login.value, password.value, email.value);\n    }\n  };\n\n  return (\n    <div className=\"styledContainer\">\n      <Control position=\"top-left\">\n        <Tooltip title={<h3>Пример</h3>} placement=\"bottom\">\n          <StLink to=\"/pollutionmap\">\n            <Button variant=\"contained\" startIcon={<MapOutlinedIcon />}>\n              Pollution Map\n            </Button>\n          </StLink>\n        </Tooltip>\n      </Control>\n      <LoginNavigation />\n      <h1 className=\"styledInfo\">Sing up to PMap</h1>\n      <div\n        className={\n          !login.inputValid ||\n          !password.inputValid ||\n          !password.inputValid ||\n          !checkPassword.inputValid ||\n          !email.inputValid\n            ? 'styledForm'\n            : 'styledFormLuck'\n        }\n      >\n        <form onSubmit={handleSubmit}>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={email.isDirty && !email.inputValid}\n              value={email.value}\n              onChange={(e) => email.onChange(e)}\n              onBlur={(e) => email.onBlur(e)}\n              label=\"email\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={login.isDirty && !login.inputValid}\n              value={login.value}\n              onChange={(e) => login.onChange(e)}\n              onBlur={(e) => login.onBlur(e)}\n              label=\"Login\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={password.isDirty && !password.inputValid}\n              value={password.value}\n              onChange={(e) => password.onChange(e)}\n              onBlur={(e) => password.onBlur(e)}\n              type=\"password\"\n              label=\"password\"\n              variant=\"outlined\"\n            />\n          </div>\n          <div className=\"styledItem\">\n            <TextField\n              required\n              error={checkPassword.isDirty && !checkPassword.inputValid}\n              value={checkPassword.value}\n              onChange={(e) => checkPassword.onChange(e)}\n              onBlur={(e) => checkPassword.onBlur(e)}\n              type=\"password\"\n              label=\"password confirmation\"\n              variant=\"outlined\"\n            />\n          </div>\n          <LoadingButton\n            startIcon={<PersonAddAlt1RoundedIcon />}\n            loading={userStore.isLoading}\n            disabled={\n              !login.inputValid ||\n              !password.inputValid ||\n              !email.inputValid ||\n              !checkPassword.inputValid\n            }\n            variant=\"contained\"\n            type=\"submit\"\n          >\n            Sing up\n          </LoadingButton>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default observer(SingUp);\n","import SingUp from 'src/components/auth/SingUp';\n\nexport const SingUpPage = () => <SingUp />;\n","import { LoginPage } from 'src/pages/LoginPage';\nimport { MapPage } from 'src/pages/MapPage';\nimport { MapRedactorPage } from 'src/pages/MapRedactorPage';\nimport { MapViewingPage } from 'src/pages/MapViewingPage';\nimport { PersonalAccountPage } from 'src/pages/PersonalAccountPage';\nimport { RegistrationCompletedPage } from 'src/pages/RegistrationCompletedPage';\nimport { SingUpPage } from 'src/pages/SingUpPage';\n\nexport const baseRoutes = [\n  { path: '/pollutionmap', element: <MapPage /> },\n  { path: '/map-viewing/:id', element: <MapViewingPage /> },\n];\n// Последний элемент будет страницей по умолчанию!\nexport const privateRoutes = baseRoutes\n  .concat([\n    {\n      path: '/map-redactor/:id',\n      element: <MapRedactorPage />,\n    },\n    { path: '/person-alaccount', element: <PersonalAccountPage /> },\n  ])\n  .reverse();\nexport const publicRoutes = baseRoutes\n  .concat([\n    { path: '/singup', element: <SingUpPage /> },\n    { path: '/registration-completed', element: <RegistrationCompletedPage /> },\n    { path: '/login', element: <LoginPage /> },\n  ])\n  .reverse();\n","import { observer } from 'mobx-react-lite';\r\nimport { SnackbarProvider } from 'notistack';\r\nimport { useEffect } from 'react';\r\nimport { BrowserRouter, Route, Routes, Outlet } from 'react-router-dom';\r\nimport 'src/index.css';\r\nimport { useStore } from 'src/store/RootStoreContext';\r\nimport GlobalFonts from './fonts/globalFonts';\r\nimport { MapRedactorPage } from './pages/MapRedactorPage';\r\nimport { privateRoutes, publicRoutes } from './router';\r\n\r\nconst App = () => {\r\n  const { userStore } = useStore();\r\n  useEffect(() => {\r\n    if (localStorage.getItem('token')) {\r\n      userStore.checkAuth();\r\n    }\r\n  }, []);\r\n  // console.log(`isAuth ${userStore.isAuth}`);\r\n  return (\r\n    <BrowserRouter>\r\n      <SnackbarProvider\r\n        maxSnack={2}\r\n        anchorOrigin={{\r\n          vertical: 'bottom',\r\n          horizontal: 'center',\r\n        }}\r\n      >\r\n        <GlobalFonts />\r\n        {!userStore.isAuth ? (\r\n          <Routes>\r\n            {publicRoutes.map((r) => (\r\n              <Route key={r.path} element={r.element} path={r.path}>\r\n                {/* {r.isParameters ? (\r\n                  <Route element={r.element} path={`:${r.path.substr(1)}`} />\r\n                ) : null} */}\r\n              </Route>\r\n            ))}\r\n            <Route path=\"*\" element={publicRoutes[0].element} />\r\n            {/* <Outlet /> */}\r\n          </Routes>\r\n        ) : (\r\n          <Routes>\r\n            {privateRoutes.map((r) => (\r\n              <Route key={r.path} element={r.element} path={r.path}>\r\n                {/* {r.isParameters ? (\r\n                  <Route element={r.element} path={`:${r.path.substr(1)}`} />\r\n                ) : null} */}\r\n              </Route>\r\n            ))}\r\n            <Route path=\"*\" element={privateRoutes[0].element} />\r\n            {/* <Outlet /> */}\r\n          </Routes>\r\n        )}\r\n      </SnackbarProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default observer(App);\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { RootStoreProvider } from './store/RootStoreContext.tsx';\r\n\r\nReactDOM.render(\r\n  <RootStoreProvider>\r\n    <App />\r\n  </RootStoreProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}